(window.webpackJsonp=window.webpackJsonp||[]).push([[193],{450:function(t,v,d){"use strict";d.r(v);var _=d(43),a=Object(_.a)({},(function(){var t=this,v=t.$createElement,d=t._self._c||v;return d("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[d("h1",{attrs:{id:"智能硬件"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#智能硬件"}},[t._v("#")]),t._v(" 智能硬件")]),t._v(" "),d("h2",{attrs:{id:"媒体参数设置"}},[d("a",{staticClass:"header-anchor",attrs:{href:"#媒体参数设置"}},[t._v("#")]),t._v(" 媒体参数设置")]),t._v(" "),d("p",[t._v("发起通话前可以根据设备类型选择不同的媒体参数配置模式，从而达到优质的音视频通话效果。")]),t._v(" "),d("p",[t._v("菊风提供不同的媒体配置模式供开发者根据不同的场景选择，同时开放媒体设置参数供开发者灵活设置。具体如下:")]),t._v(" "),d("div",{staticClass:"language- extra-class"},[d("pre",[d("code",[t._v("/// 360P\nJCCallMediaConfigMode360P,\n/// 720P\nJCCallMediaConfigMode720P,\n/// 智能硬件场景，比如会和手表通话等\nJCCallMediaConfigModeIntelligentHardware,\n")])])]),d("p",[t._v("手机端通话任选其一； 智能硬件通话，一般选择 JCCallMediaConfigModeIntelligentHardware 模式。")]),t._v(" "),d("p",[t._v("发起通话前，开发者可以根据具体的场景选择一种媒体配置模式并通过下面的接口生成配置参数:")]),t._v(" "),d("div",{staticClass:"language- extra-class"},[d("pre",[d("code",[t._v("/// 根据模式生成配置参数\n/// @param mode 模式\n+(JCCallMediaConfig* __nonnull)generateByMode:(JCCallMediaConfigMode)mode;\n")])])]),d("p",[t._v("生成配置参数后调用 JCCall 里的 mediaConfig 属性进行设置:")]),t._v(" "),d("div",{staticClass:"language- extra-class"},[d("pre",[d("code",[t._v("JCManager.shared.call.mediaConfig = [JCCallMediaConfig generateByMode:JCCallMediaConfigModeIntelligentHardware];\n")])])]),d("p",[t._v("其中，三种模式的媒体参数设置如下：")]),t._v(" "),d("p",[t._v("1、JCCallMediaConfigMode360P 模式的参数")]),t._v(" "),d("table",[d("colgroup",[d("col",{staticStyle:{width:"50%"}}),t._v(" "),d("col",{staticStyle:{width:"50%"}})]),t._v(" "),d("thead",[d("tr",{staticClass:"header"},[d("th",[d("p",[t._v("参数")])]),t._v(" "),d("th",[d("p",[t._v("描述")])])])]),t._v(" "),d("tbody",[d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioAecMode")])]),t._v(" "),d("td",[d("p",[t._v("JCCallAecModeFDE")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioArsEnable")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioArsBitrateMin")])]),t._v(" "),d("td",[d("p",[t._v("20")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioArsBitrateMax")])]),t._v(" "),d("td",[d("p",[t._v("76")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioRed")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioRxAnr")])]),t._v(" "),d("td",[d("p",[t._v("关闭")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioRtx")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioRxAgc")])]),t._v(" "),d("td",[d("p",[t._v("关闭")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioQosAec")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioQosAnr")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioQosAgc")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioQosVad")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoResolutionRecvWidth")])]),t._v(" "),d("td",[d("p",[t._v("640")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoResolutionRecvHeight")])]),t._v(" "),d("td",[d("p",[t._v("360")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoResolutionSendWidth")])]),t._v(" "),d("td",[d("p",[t._v("640")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoResolutionSendHeight")])]),t._v(" "),d("td",[d("p",[t._v("360")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoBitrate")])]),t._v(" "),d("td",[d("p",[t._v("100")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoSendFramerate")])]),t._v(" "),d("td",[d("p",[t._v("30")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoArsEnable")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoArsBitrateMin")])]),t._v(" "),d("td",[d("p",[t._v("30kpbs")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoArsBitrateMax")])]),t._v(" "),d("td",[d("p",[t._v("800kbps")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoArsFramerateMin")])]),t._v(" "),d("td",[d("p",[t._v("0")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoArsFramerateMax")])]),t._v(" "),d("td",[d("p",[t._v("30")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoRedFec")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoRecvFullScreen")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoSmallNalu")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoResolutionControl")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])])])]),t._v(" "),d("p",[t._v("2、JCCallMediaConfigMode720P")]),t._v(" "),d("table",[d("colgroup",[d("col",{staticStyle:{width:"50%"}}),t._v(" "),d("col",{staticStyle:{width:"50%"}})]),t._v(" "),d("thead",[d("tr",{staticClass:"header"},[d("th",[d("p",[t._v("参数")])]),t._v(" "),d("th",[d("p",[t._v("描述")])])])]),t._v(" "),d("tbody",[d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioAecMode")])]),t._v(" "),d("td",[d("p",[t._v("JCCallAecModeFDE")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioArsEnable")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioArsBitrateMin")])]),t._v(" "),d("td",[d("p",[t._v("20")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioArsBitrateMax")])]),t._v(" "),d("td",[d("p",[t._v("76")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioRed")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioRxAnr")])]),t._v(" "),d("td",[d("p",[t._v("关闭")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioRtx")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioRxAgc")])]),t._v(" "),d("td",[d("p",[t._v("关闭")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioQosAec")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioQosAnr")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioQosAgc")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioQosVad")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoResolutionRecvWidth")])]),t._v(" "),d("td",[d("p",[t._v("1280")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoResolutionRecvHeight")])]),t._v(" "),d("td",[d("p",[t._v("720")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoResolutionSendWidth")])]),t._v(" "),d("td",[d("p",[t._v("1280")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoResolutionSendHeight")])]),t._v(" "),d("td",[d("p",[t._v("720")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoBitrate")])]),t._v(" "),d("td",[d("p",[t._v("100")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoSendFramerate")])]),t._v(" "),d("td",[d("p",[t._v("30")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoArsEnable")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoArsBitrateMin")])]),t._v(" "),d("td",[d("p",[t._v("30kpbs")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoArsBitrateMax")])]),t._v(" "),d("td",[d("p",[t._v("2100kbps")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoArsFramerateMin")])]),t._v(" "),d("td",[d("p",[t._v("0")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoArsFramerateMax")])]),t._v(" "),d("td",[d("p",[t._v("30")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoRedFec;")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoRecvFullScreen")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoSmallNalu")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoResolutionControl")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])])])]),t._v(" "),d("p",[t._v("3、JCCallMediaConfigModeIntelligentHardware")]),t._v(" "),d("table",[d("colgroup",[d("col",{staticStyle:{width:"50%"}}),t._v(" "),d("col",{staticStyle:{width:"50%"}})]),t._v(" "),d("thead",[d("tr",{staticClass:"header"},[d("th",[d("p",[t._v("参数")])]),t._v(" "),d("th",[d("p",[t._v("描述")])])])]),t._v(" "),d("tbody",[d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioAecMode")])]),t._v(" "),d("td",[d("p",[t._v("JCCallAecModeFDE")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioArsEnable")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioArsBitrateMin")])]),t._v(" "),d("td",[d("p",[t._v("5")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioArsBitrateMax")])]),t._v(" "),d("td",[d("p",[t._v("20")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioRed")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioRxAnr")])]),t._v(" "),d("td",[d("p",[t._v("关闭")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioRtx")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioRxAgc")])]),t._v(" "),d("td",[d("p",[t._v("关闭")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioQosAec")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioQosAnr")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioQosAgc")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioQosVad")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoResolutionRecvWidth;")])]),t._v(" "),d("td",[d("p",[t._v("视具体情况，手表的话一般128*128")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoResolutionRecvHeight;")])]),t._v(" "),d("td",[d("p",[t._v("视具体情况，手表的话一般128*128")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoResolutionSendWidth;")])]),t._v(" "),d("td",[d("p",[t._v("视具体情况，手表的话一般640*360")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoResolutionSendHeight;")])]),t._v(" "),d("td",[d("p",[t._v("视具体情况，手表的话一般640*360")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoBitrate")])]),t._v(" "),d("td",[d("p",[t._v("30")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoSendFramerate")])]),t._v(" "),d("td",[d("p",[t._v("15")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoArsEnable")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoArsBitrateMin")])]),t._v(" "),d("td",[d("p",[t._v("视具体情况，手表以128*128 15帧 10kpbs")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoArsBitrateMax")])]),t._v(" "),d("td",[d("p",[t._v("视具体情况，手表以128*128 15帧 75kpbs")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoArsFramerateMin")])]),t._v(" "),d("td",[d("p",[t._v("0")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoArsFramerateMax")])]),t._v(" "),d("td",[d("p",[t._v("15")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoRedFec")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoRecvFullScreen")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoSmallNalu")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoResolutionControl")])]),t._v(" "),d("td",[d("p",[t._v("开启")])])])])]),t._v(" "),d("p",[t._v("除了选择菊风提供的媒体配置模式外，开发者还可以根据对应的属性对媒体参数进行自定义的设置，以满足不同场景的需求。媒体参数包括音频和视频参数。具体说明如下：")]),t._v(" "),d("p",[d("strong",[t._v("音频参数")])]),t._v(" "),d("table",{staticStyle:{width:"99%"}},[d("colgroup",[d("col",{staticStyle:{width:"33%"}}),t._v(" "),d("col",{staticStyle:{width:"33%"}}),t._v(" "),d("col",{staticStyle:{width:"33%"}})]),t._v(" "),d("thead",[d("tr",{staticClass:"header"},[d("th",[d("p",[t._v("参数")])]),t._v(" "),d("th",[d("p",[t._v("类型")])]),t._v(" "),d("th",[d("p",[t._v("描述")])])])]),t._v(" "),d("tbody",[d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioEnableCodecs")])]),t._v(" "),d("td",[d("p",[t._v("NSString")])]),t._v(" "),d("td",[d("ul",[d("li",[d("p",[t._v("音频编解码，具体有opus、PCMU、PCMA、G729、G722、AAC、AMR、AMR-WB、iLBC")])]),t._v(" "),d("li",[d("p",[t._v("协商优先级按顺序排列, 每个编解码用”;”间隔, 注意大小写")])])])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioAecEnable")])]),t._v(" "),d("td",[d("p",[t._v("bool")])]),t._v(" "),d("td",[d("p",[t._v("是否开启回声消除")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioAecMode")])]),t._v(" "),d("td",[d("p",[t._v("JCCallAecMode")])]),t._v(" "),d("td",[d("p",[t._v("回声消除模式，具体参考JCCallAecMode枚举值")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioArsEnable")])]),t._v(" "),d("td",[d("p",[t._v("bool")])]),t._v(" "),d("td",[d("p",[t._v("是否开启音频 ars")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioArsBitrateMin")])]),t._v(" "),d("td",[d("p",[t._v("int")])]),t._v(" "),d("td",[d("p",[t._v("音频最小码率，kb")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioArsBitrateMax")])]),t._v(" "),d("td",[d("p",[t._v("int")])]),t._v(" "),d("td",[d("p",[t._v("音频最大码率，kb")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioRed")])]),t._v(" "),d("td",[d("p",[t._v("bool")])]),t._v(" "),d("td",[d("ul",[d("li",[d("p",[t._v("语音red抗丢包, 打开会增加payload码率")])]),t._v(" "),d("li",[d("p",[t._v("关闭增强抗丢包能力节省码率，从而降低功耗")])]),t._v(" "),d("li",[d("p",[t._v("网络不稳定，一般选择打开")])])])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioRxAnr")])]),t._v(" "),d("td",[d("p",[t._v("bool")])]),t._v(" "),d("td",[d("p",[t._v("一般接收端声音质量好可关闭噪声抑制，减少声音dsp处理，降低功耗")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioRtx")])]),t._v(" "),d("td",[d("p",[t._v("bool")])]),t._v(" "),d("td",[d("p",[t._v("RTX重传, 同FEC、NACK一起用，降低功耗, 网络不稳定，一般选择打开")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioRxAgc")])]),t._v(" "),d("td",[d("p",[t._v("bool")])]),t._v(" "),d("td",[d("p",[t._v("接收端声音自动增益控制, 接收端声音过大过小时，可尝试打开")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioQosAec")])]),t._v(" "),d("td",[d("p",[t._v("bool")])]),t._v(" "),d("td",[d("p",[t._v("回声消除")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioQosAnr")])]),t._v(" "),d("td",[d("p",[t._v("bool")])]),t._v(" "),d("td",[d("ul",[d("li",[d("p",[t._v("发送端噪声抑制, 接收端声音噪声大，提高抑制等级；")])]),t._v(" "),d("li",[d("p",[t._v("接收端声音小，可在不影响声音质量情况下降低抑制等级或者关闭抑制")])])])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("audioQosAgc")])]),t._v(" "),d("td",[d("p",[t._v("bool")])]),t._v(" "),d("td",[d("p",[t._v("发送端声音自动增益控制")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("audioQosVad")])]),t._v(" "),d("td",[d("p",[t._v("bool")])]),t._v(" "),d("td",[d("p",[t._v("静音检测")])])])])]),t._v(" "),d("p",[d("strong",[t._v("视频参数")])]),t._v(" "),d("table",{staticStyle:{width:"99%"}},[d("colgroup",[d("col",{staticStyle:{width:"33%"}}),t._v(" "),d("col",{staticStyle:{width:"33%"}}),t._v(" "),d("col",{staticStyle:{width:"33%"}})]),t._v(" "),d("thead",[d("tr",{staticClass:"header"},[d("th",[d("p",[t._v("参数")])]),t._v(" "),d("th",[d("p",[t._v("类型")])]),t._v(" "),d("th",[d("p",[t._v("描述")])])])]),t._v(" "),d("tbody",[d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoEnableCodecs")])]),t._v(" "),d("td",[d("p",[t._v("NSString")])]),t._v(" "),d("td",[d("ul",[d("li",[d("p",[t._v("视频编解码，具体有 H264-SVC、VP8、VP9、H264、H265、H263")])]),t._v(" "),d("li",[d("p",[t._v("协商优先级按顺序排列")])])])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoResolutionRecvWidth")])]),t._v(" "),d("td",[d("p",[t._v("int")])]),t._v(" "),d("td",[d("p",[t._v("视频接收宽")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoResolutionRecvHeight")])]),t._v(" "),d("td",[d("p",[t._v("int")])]),t._v(" "),d("td",[d("p",[t._v("视频接收高")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoResolutionSendWidth")])]),t._v(" "),d("td",[d("p",[t._v("int")])]),t._v(" "),d("td",[d("p",[t._v("视频发送宽")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoResolutionSendHeight")])]),t._v(" "),d("td",[d("p",[t._v("int")])]),t._v(" "),d("td",[d("p",[t._v("视频发送高")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoBitrate")])]),t._v(" "),d("td",[d("p",[t._v("int")])]),t._v(" "),d("td",[d("ul",[d("li",[d("p",[t._v("视频初始码率 kb，初始码率影响视频开始的清晰度")])]),t._v(" "),d("li",[d("p",[t._v("设置高些能更快到达所需码率，初始码率必须在ars范围内")])]),t._v(" "),d("li",[d("p",[t._v("720p 的 ars 范围一般在 30kbps~4235.4kbps bitrate 之间；1080p 的 ars 范围一般在 30kbps~7471.8kbps bitrate 之间")])])])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoSendFramerate")])]),t._v(" "),d("td",[d("p",[t._v("int")])]),t._v(" "),d("td",[d("p",[t._v("发送帧率")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoArsEnable")])]),t._v(" "),d("td",[d("p",[t._v("bool")])]),t._v(" "),d("td",[d("p",[t._v("是否开启视频 ars，即视频自动码率控制，开启之后可以保证编码码流的顺利传输和信道带宽的充分利用")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoArsBitrateMin")])]),t._v(" "),d("td",[d("p",[t._v("int")])]),t._v(" "),d("td",[d("p",[t._v("视频最小码率，kb")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoArsBitrateMax")])]),t._v(" "),d("td",[d("p",[t._v("int")])]),t._v(" "),d("td",[d("p",[t._v("视频最大码率，kb")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoArsFramerateMin")])]),t._v(" "),d("td",[d("p",[t._v("int")])]),t._v(" "),d("td",[d("p",[t._v("视频最小帧率，kb")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoArsFramerateMax")])]),t._v(" "),d("td",[d("p",[t._v("int")])]),t._v(" "),d("td",[d("p",[t._v("视频最大帧率，kb")])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoRedFec")])]),t._v(" "),d("td",[d("p",[t._v("bool")])]),t._v(" "),d("td",[d("ul",[d("li",[d("p",[t._v("支持rfc 2198 语音fec-red，增强抗丢包能力，会增加一倍的payload码率，不会增加包头。")])]),t._v(" "),d("li",[d("p",[t._v("比如Opus 55kbps增加一倍码率后，最终码率达到90kbps=55+35；")])]),t._v(" "),d("li",[d("p",[t._v("Opus 10kbps增加一倍码率后，最终码率达到16kbps=10+6。")])])])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoRecvFullScreen")])]),t._v(" "),d("td",[d("p",[t._v("bool")])]),t._v(" "),d("td",[d("p",[t._v("影响本端视频请求分辨率，默认设置为true")]),t._v(" "),d("dl",[d("dt",[t._v("假设条件")]),t._v(" "),d("dd",[d("ul",[d("li",[d("ol",[d("li",[d("p",[t._v("本端默认请求是640*360的分辨率")])])])]),t._v(" "),d("li",[d("ol",{attrs:{start:"2"}},[d("li",[d("p",[t._v("本端屏幕分辨率为360*360")])])])]),t._v(" "),d("li",[d("p",[t._v("true：请求分辨率则会被调整为360*360")])]),t._v(" "),d("li",[d("p",[t._v("false: 请求还是以640*360进行请求")])])])])])])]),t._v(" "),d("tr",{staticClass:"odd"},[d("td",[d("p",[t._v("videoSmallNalu")])]),t._v(" "),d("td",[d("p",[t._v("bool")])]),t._v(" "),d("td",[d("p",[t._v("视频数据以SmallNalu方式打包, 一个包打包的数据多，减少包头的码率，从而降低功耗")])])]),t._v(" "),d("tr",{staticClass:"even"},[d("td",[d("p",[t._v("videoResolutionControl")])]),t._v(" "),d("td",[d("p",[t._v("bool")])]),t._v(" "),d("td",[d("p",[t._v("分辨率控制, 开启则分辨率随网络波动而变化, 关闭则固定分辨率")])])])])]),t._v(" "),d("p",[t._v("其中，JCCallAecMode 有以下值:")]),t._v(" "),d("div",{staticClass:"language- extra-class"},[d("pre",[d("code",[t._v("/// 声学回声消除。支持在免提状态下的通话，对于iOS和Windows等性能较好的机型有效。\nJCCallAecModeAEC = 0, // MtcCallDb.EN_MTC_EC_AEC;\n/// 使用操作系统提供的声学回声消除功能，支持在免提状态下的通话。对于多数iOS和Android等品牌手机有效，但部分机型可能无效。\nJCCallAecModeOS = 1, // MtcCallDb.EN_MTC_EC_OS;\n/// 声学回声抑制，通过半双工方式实现回声抑制，通常不建议使用。\nJCCallAecModeAES = 2, // MtcCallDb.EN_MTC_EC_AES;\n/// 软件自适应声学回声消除，对于大多数所有机型有效。但计算量比AEC稍大一些。SDE追踪延迟精度高，FDE能适应更大的延迟。\nJCCallAecModeFDE = 3, // MtcCallDb.EN_MTC_EC_AEC_FDE;\n/// 软件自适应声学回声消除，对于大多数所有机型有效。但计算量比AEC稍大一些。SDE追踪延迟精度高，FDE能适应更大的延迟。\nJCCallAecModeSDE = 4, // MtcCallDb.EN_MTC_EC_AEC_SDE;\n")])])]),d("p",[t._v("开发者可根据具体的需求自行配置。")]),t._v(" "),d("p",[t._v("示例代码:")]),t._v(" "),d("div",{staticClass:"language- extra-class"},[d("pre",[d("code",[t._v('//音频参数\nJCCallMediaConfig* mediaConfig = [JCCallMediaConfig new];\nmediaConfig.audioEnableCodecs = @"opus";\nmediaConfig.audioAecMode = JCCallAecModeFDE;\nmediaConfig.audioArsEnable = true;\nmediaConfig.audioArsBitrateMax = 20;\nmediaConfig.audioArsBitrateMin = 5;\nmediaConfig.audioRed = true;\nmediaConfig.audioRxAnr = false;\nmediaConfig.audioRtx = true;\nmediaConfig.audioRxAgc = false;\nmediaConfig.audioQosAec = true;\nmediaConfig.audioQosAnr = true;\nmediaConfig.audioQosAgc = true;\nmediaConfig.audioQosVad = true;\n\n//视频参数\nmediaConfig.videoEnableCodecs = @"H264";\nmediaConfig.videoResolutionRecvWidth = 128;\nmediaConfig.videoResolutionRecvHeight = 128;\nmediaConfig.videoResolutionSendWidth = 640;\nmediaConfig.videoResolutionSendHeight = 360;\nmediaConfig.videoBitrate = 30;\nmediaConfig.videoSendFramerate = 15;\nmediaConfig.videoArsEnable = true;\nmediaConfig.videoArsBitrateMax = 75;\nmediaConfig.videoArsBitrateMin = 10;\nmediaConfig.videoArsFramerateMax = 15;\nmediaConfig.videoArsFramerateMin = 0;\nmediaConfig.videoRedFec  = true;\nmediaConfig.videoRecvFullScreen  = true;\nmediaConfig.videoSmallNalu  = true;\nmediaConfig.videoResolutionControl  = true;\n\nJCManager.shared.call.mediaConfig = mediaConfig;\n')])])])])}),[],!1,null,null,null);v.default=a.exports}}]);