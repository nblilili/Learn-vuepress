(window.webpackJsonp=window.webpackJsonp||[]).push([[210],{573:function(e,n,a){"use strict";a.r(n);var r=a(43),s=Object(r.a)({},(function(){var e=this,n=e.$createElement,a=e._self._c||n;return a("ContentSlotsDistributor",{attrs:{"slot-key":e.$parent.slotKey}},[a("h1",{attrs:{id:"一分钟集成-sdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#一分钟集成-sdk"}},[e._v("#")]),e._v(" 一分钟集成 SDK")]),e._v(" "),a("p",[e._v("本章将介绍如何将 JC SDK 集成到您自己创建的项目中。")]),e._v(" "),a("h2",{attrs:{id:"前提条件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#前提条件"}},[e._v("#")]),e._v(" 前提条件")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("Android SDK API 等级 16 或以上")])]),e._v(" "),a("li",[a("p",[e._v("Android Studio 3.5及以上版本")])]),e._v(" "),a("li",[a("p",[e._v("支持 Android 4.1 或以上版本的移动设备")])]),e._v(" "),a("li",[a("p",[e._v("有效的菊风开发者账号（"),a("a",{attrs:{href:"http://developer.juphoon.com/signup",target:"_blank",rel:"noopener noreferrer"}},[e._v("免费注册"),a("OutboundLink")],1),e._v(" ）")])]),e._v(" "),a("li",[a("p",[e._v("有效的菊风 "),a("a",{attrs:{href:"https://developer.juphoon.com/cn/document/V2.1/create-application.php",target:"_blank",rel:"noopener noreferrer"}},[e._v("AppKey"),a("OutboundLink")],1)])])]),e._v(" "),a("h2",{attrs:{id:"创建-android-项目"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#创建-android-项目"}},[e._v("#")]),e._v(" 创建 Android 项目")]),e._v(" "),a("p",[e._v("参考以下步骤创建一个 Android 项目。若已有 Android 项目，可以直接查看【集成 SDK】。")]),e._v(" "),a("ul",[a("li",[a("p",[e._v("打开 Android Studio，点击 Start a new Android Studio project。")])]),e._v(" "),a("li",[a("p",[e._v("在 Select a Project Template 界面，选择 Phone and Tablet > Empty\nActivity，然后点击 Next。")])]),e._v(" "),a("li",[a("p",[e._v("在 Configure Your Project 界面，依次填入以下内容：")]),e._v(" "),a("blockquote",[a("ul",[a("li",[a("p",[e._v("Name：您的 Android 项目名称，如 HelloJuphoon。")])]),e._v(" "),a("li",[a("p",[e._v("Package name：您的项目包的名称，如 io.helloJuphoon。")])]),e._v(" "),a("li",[a("p",[e._v("Save location：项目的存储路径")])]),e._v(" "),a("li",[a("p",[e._v("Language：项目的编程语言，如 Java")])]),e._v(" "),a("li",[a("p",[e._v("Minimum API level：项目的最低 API 等级")])])])])]),e._v(" "),a("li",[a("p",[e._v("然后点击 Finish。根据屏幕提示，安装可能需要的插件。")])])]),e._v(" "),a("h2",{attrs:{id:"集成-sdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#集成-sdk"}},[e._v("#")]),e._v(" 集成 SDK")]),e._v(" "),a("p",[e._v("您可以通过以下两种方式中任意一种集成 JC SDK：")]),e._v(" "),a("h3",{attrs:{id:"方法一：使用-jcenter-自动集成"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法一：使用-jcenter-自动集成"}},[e._v("#")]),e._v(" 方法一：使用 JCenter 自动集成")]),e._v(" "),a("p",[e._v("Note")]),e._v(" "),a("p",[e._v("该方法仅适用于 2.1 及以上版本的 JC SDK 集成。")]),e._v(" "),a("p",[e._v("在项目的 /app/build.gradle 文件中，添加如下行：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("...\ndependencies {\n    ...\n    // 可通过 JC SDK 发版说明取得最新版本号\n    implementation 'com.JuphoonCloud:JC-SDK:2.1'\n}\n")])])]),a("h3",{attrs:{id:"方法二：手动导入-jc-sdk"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#方法二：手动导入-jc-sdk"}},[e._v("#")]),e._v(" 方法二：手动导入 JC SDK")]),e._v(" "),a("ol",[a("li",[a("p",[a("a",{attrs:{href:"https://developer.juphoon.com/portal/cn/downloadsdk/download_sdk.php?filename=JC-SDK-Android-V2_1.tar.gz",target:"_blank",rel:"noopener noreferrer"}},[e._v("下载 JC\nSDK"),a("OutboundLink")],1),e._v("\n并解压。")])]),e._v(" "),a("li",[a("p",[e._v("拷贝 libs 文件夹内的 arm64-v8a、armeabi-v7a、x86、x86_64、JCSDK.jar、mtc.jar 和\nzmf.jar 到您工程目录中的 libs 目录下。")])]),e._v(" "),a("li",[a("p",[e._v("为确保能够连接到so库，需要在module 的build.gradle中添加设置:")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("sourceSets {\n    main {\n        jniLibs.srcDirs = ['libs’]\n    }\n}\n")])])])])]),e._v(" "),a("h2",{attrs:{id:"添加项目权限"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#添加项目权限"}},[e._v("#")]),e._v(" 添加项目权限")]),e._v(" "),a("p",[e._v("根据场景需要，在 /app/src/main/AndroidManifest.xml 文件中添加如下行，获取相应的设备权限：")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v('<uses-feature android:name="android.hardware.camera" />\n<uses-feature android:name="android.hardware.camera.autofocus" />\n<uses-permission android:name="android.permission.INTERNET" />\n<uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" />\n<uses-permission android:name="android.permission.ACCESS_WIFI_STATE" />\n<uses-permission android:name="android.permission.READ_PHONE_STATE" />\n<uses-permission android:name="android.permission.WAKE_LOCK" />\n<uses-permission android:name="android.permission.CAMERA" />\n<uses-permission android:name="android.permission.RECORD_AUDIO" />\n<uses-permission android:name="android.permission.MODIFY_AUDIO_SETTINGS" />\n<uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" />\n<uses-permission android:name="android.permission.VIBRATE"/>\n<uses-permission android:name="android.permission.BLUETOOTH" />\n<uses-permission android:name="android.permission.SYSTEM_ALERT_WINDOW" />\n')])])]),a("p",[e._v("Note")]),e._v(" "),a("p",[e._v("您在 AndroidManifest 中进行权限配置时，请确保您能够获得打开摄像头、音视频录制等相关权限。 权限具体信息可以参考\n"),a("RouterLink",{attrs:{to:"/01_基础功能集成/00_Reference.html#android"}},[a("span",{staticClass:"std std-ref"},[e._v("Android\n权限说明")])]),e._v("\n。")],1),e._v(" "),a("h2",{attrs:{id:"设置混响规则"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置混响规则"}},[e._v("#")]),e._v(" 设置混响规则")]),e._v(" "),a("p",[e._v("在 proguard-rules.pro 文件，将 JC SDK 相关类加入不混淆名单。")]),e._v(" "),a("div",{staticClass:"language- extra-class"},[a("pre",[a("code",[e._v("-dontwarn com.juphoon.*\n-keep class com.juphoon.**{*;}\n//底层sdk\n-dontwarn com.justalk.*\n-keep class com.justalk.**{*;}\n-keepattributes InnerClasses\n-keep class **.R$* {*;}\n")])])])])}),[],!1,null,null,null);n.default=s.exports}}]);