(window.webpackJsonp=window.webpackJsonp||[]).push([[255],{1181:function(a,t,e){"use strict";e.r(t);var s=e(29),n=Object(s.a)({},(function(){var a=this,t=a.$createElement,s=a._self._c||t;return s("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[s("h1",{attrs:{id:"realize-live-interactive-video-streaming"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#realize-live-interactive-video-streaming"}},[a._v("#")]),a._v(" Realize live interactive video streaming")]),a._v(" "),s("p",[a._v("This guide introduces how to implement live interactive video streaming.\nThe API call sequence of live interactive video streaming is shown in\nthe figure below:")]),a._v(" "),s("p",[s("img",{attrs:{src:e(367),alt:"../../../../_images_en/multivideoworkflow.png"}})]),a._v(" "),s("h2",{attrs:{id:"initialize"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#initialize"}},[a._v("#")]),a._v(" Initialize")]),a._v(" "),s("p",[a._v("Call\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/cb59bc27-6528-9dbf-c996-de857096f847.htm"}},[a._v("JCMediaDevice.create()")]),a._v("\nand\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/eef10110-a3f7-b505-26fa-4b9ec1e2b998.htm"}},[a._v("JCCall.create()")]),a._v("\nto initialize modules needed to implement group calls:")]),a._v(" "),s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// Create a new class and implement it")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCManager")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token type-list"}},[s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCClientCallback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaDeviceCallback")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelCallbac")])]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token preprocessor property"}},[a._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[a._v("region")]),a._v(" JCMediaDeviceCallback")]),a._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token return-type class-name"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("onCameraUpdate")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),s("span",{pre:!0,attrs:{class:"token range operator"}},[a._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token return-type class-name"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("onAudioOutputTypeChange")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("string")])]),a._v(" audioOutputType"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),s("span",{pre:!0,attrs:{class:"token range operator"}},[a._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token preprocessor property"}},[a._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[a._v("endregion")])]),a._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token preprocessor property"}},[a._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[a._v("region")]),a._v(" JCMediaChannelCallback")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token range operator"}},[a._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// Achieve methods in JCMediaChannelCallback")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token range operator"}},[a._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token preprocessor property"}},[a._v("#"),s("span",{pre:!0,attrs:{class:"token directive keyword"}},[a._v("endregion")])]),a._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// Declare object")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaDevice")]),a._v(" mMediaDevice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannel")]),a._v(" mMediaChannel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// Initialization function")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token return-type class-name"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("initialize")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Context")]),a._v(" context"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 1. Media class")]),a._v("\n        mMediaDevice "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" JCMediaDevice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("create")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("mClient"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 2. Media channel lass")]),a._v("\n        mMediaChannel "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" JCMediaChannel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("create")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("client"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" mediaDevice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("h2",{attrs:{id:"role-setting"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#role-setting"}},[a._v("#")]),a._v(" Role setting")]),a._v(" "),s("p",[a._v("Before joining the channel, you must set the role first. The role\nsetting include the host and audiences. The role value can be customized\naccording to the\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/e8ce33fb-e1af-d33e-f0d8-795a840eae30.htm"}},[a._v("JCMediaChannel.CustomRole")]),a._v("\nenumeration value, for example:")]),a._v(" "),s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//Customize the role of the host according to the CustomState enumeration value")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelCustomRole")]),a._v(" ROLE_BROASCASTER "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" JCMediaChannelConstants"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("CUSTOM_ROLE_0"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//Customize the role of audiences according to the CustomState enumeration value")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelCustomRole")]),a._v(" ROLE_AUDIENCE "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" JCMediaChannelConstants"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("CUSTOM_ROLE_1"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("Call\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/02d30d7f-6906-cea0-9775-a244e2b25e87.htm"}},[a._v("setCustomRole()")]),a._v("\nto set your own role to enter the channel:")]),a._v(" "),s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// Set the role; the value of participant (the second parameter) is null, which means that you set your own role")]),a._v("\nmediaChannel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("setCustomRole")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ROLE_BROASCASTER"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h2",{attrs:{id:"join-a-channel"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#join-a-channel"}},[a._v("#")]),a._v(" Join a channel")]),a._v(" "),s("ol",[s("li",[s("p",[a._v("Call\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/70f2d136-ebf6-12fc-eb1e-2a90622caca7.htm"}},[a._v("enableUploadAudioStream()")]),a._v("\nto enable audio streaming. Call\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/75fc5ba5-75a9-c704-5bd2-bf011fb8a082.htm"}},[a._v("enableUploadVideoStream()")]),a._v("\nto enable video streaming:")]),a._v(" "),s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 1. Enable the audio stream")]),a._v("\nmMediaDeviceChannel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("enableUploadAudioStream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 2. Turn on the video stream")]),a._v("\nmMediaDeviceChannel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("enableUploadVIdeoStream")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[a._v("To create and join a channel, you need to pass in "),s("code",[a._v("channelIdOrUri")]),a._v("\nand\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/af4ac634-bbe3-76e3-d1f8-120213ef2fff.htm"}},[a._v("JCMediaChannel.JoinParam")]),a._v(":")]),a._v(" "),s("ul",[s("li",[s("p",[s("code",[a._v("channelIdOrUri")]),a._v(" refers to the channel ID or channel Uri.")])]),a._v(" "),s("li",[s("p",[a._v("In "),s("code",[a._v("JCMediaChannelJoinParam")]),a._v(", the "),s("code",[a._v("uriMode")]),a._v(" parameter is set\nto true, which means the incoming channel Uri. When other\nparameters are set, it means the incoming channel ID. Users\nwho pass in the same channel ID or the same channel Uri will\nenter the same Channel.")])])]),a._v(" "),s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[a._v("mMediaChannel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("join")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token string"}},[a._v('"222"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])]),a._v(" "),s("li",[s("p",[a._v("The\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/535cbae7-841e-ca31-32ea-87c1a840eff1.htm"}},[a._v("onJoin()")]),a._v("\ncallback triggers after joining the channel:")]),a._v(" "),s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token return-type class-name"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("onJoin")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")])]),a._v(" result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelReason")]),a._v(" reason"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" channelId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// Join the channel successfully")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("else")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// Join the channel failed")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])])]),a._v(" "),s("h2",{attrs:{id:"create-local-video-images"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-local-video-images"}},[a._v("#")]),a._v(" Create local video images")]),a._v(" "),s("p",[a._v("After joining a channel, call\n"),s("a",{attrs:{href:"#id1"}},[s("span",{staticClass:"problematic",attrs:{id:"id2"}},[a._v("|getSelfParticipant|")])]),a._v("\nin "),s("a",{attrs:{href:"#id3"}},[s("span",{staticClass:"problematic",attrs:{id:"id4"}},[a._v("|JCMediaChannel|")])]),a._v(" to\nget the object of the user in the channel, Then call the\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/6243f463-7566-cc48-dd7f-1b29ea2604cb.htm"}},[a._v("startVideo()")]),a._v("\nmethod to open local video preview in\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/8ad58616-3028-b8d3-8106-81b8b805c1ea.htm"}},[a._v("JCMediaChannelParticipant")]),a._v(".\nThe returned object is\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/6a5b853c-d890-c30e-d236-5728d789ace1.htm"}},[a._v("JCMediaDeviceVideoCanvas")]),a._v(".\n(Calling this method will turn on the camera)")]),a._v(" "),s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// Open local video preview")]),a._v("\nmMediaChannel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getSelfParticipant")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("startVideo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("JCMediaDevice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("RENDER_FULL_CONTENT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" JCMediaChannel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("PICTURESIZE_NONE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h2",{attrs:{id:"create-remote-video-images"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#create-remote-video-images"}},[a._v("#")]),a._v(" Create remote video images")]),a._v(" "),s("p",[a._v("After entering a channel, call\n"),s("a",{attrs:{href:"#id5"}},[s("span",{staticClass:"problematic",attrs:{id:"id6"}},[a._v("|getParticipants|")])]),a._v(" in\n"),s("a",{attrs:{href:"#id7"}},[s("span",{staticClass:"problematic",attrs:{id:"id8"}},[a._v("|JCMediaChannel|")])]),a._v(" to\nget all the member objects in the channel.")]),a._v(" "),s("p",[a._v("Call\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/6243f463-7566-cc48-dd7f-1b29ea2604cb.htm"}},[a._v("startVideo()")]),a._v("\nin the\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/8ad58616-3028-b8d3-8106-81b8b805c1ea.htm"}},[a._v("JCMediaChannelParticipant")]),a._v("\nclass to get the remote video. The returned object is\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/6a5b853c-d890-c30e-d236-5728d789ace1.htm"}},[a._v("JCMediaDeviceVideoCanvas")]),a._v("\n.")]),a._v(" "),s("p",[a._v("After the\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/6243f463-7566-cc48-dd7f-1b29ea2604cb.htm"}},[a._v("startVideo()")]),a._v("\nmethod is called, you also need to call the\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/1a89408a-468e-73b8-6b6c-376811a18dda.htm"}},[a._v("requestVideo()")]),a._v("\nmethod in\n"),s("a",{attrs:{href:"#id9"}},[s("span",{staticClass:"problematic",attrs:{id:"id10"}},[a._v("|JCMediaChannel|")])]),a._v(" to\nrequest the video streams of other users in the channel.")]),a._v(" "),s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// Access all member objects")]),a._v("\nList"),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("JCMediaChannelParticipantparticipants "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" mMediaChannel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("getSelfParticipant")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// Call the method of creating a video image")]),a._v("\nparticipants"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("startVideo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("JCMediaDevice"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("RENDER_FULL_CONTENT"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" JCMediaChannel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("PICTURESIZE_NONE"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// Request remote video stream (call large video window)")]),a._v("\nmMediaChannel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("requestVideo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("participants"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("get")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" Large"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h2",{attrs:{id:"leave-a-channel"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#leave-a-channel"}},[a._v("#")]),a._v(" Leave a channel")]),a._v(" "),s("p",[a._v("Call the\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/7f034b94-15ee-8d49-48e3-905fff27f31f.htm"}},[a._v("leave()")]),a._v("\nmethod to leave the current channel:")]),a._v(" "),s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[a._v("mMediaChannel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("leave")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("In a group video call, you need to call\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/851cc6d3-1b5a-8e26-ce3c-a3c1780936d2.htm"}},[a._v("stopVideo()")]),a._v("\nto remove the video image when leaving the channel:")]),a._v(" "),s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[a._v("mParticipant"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("stopVideo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("After leaving a channel, you will receive the\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/f356aba3-ebed-a72c-4e34-02a684925a15.htm"}},[a._v("onLeave()")]),a._v("\ncallback, and other members will receive the\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/89a35b12-8c2c-247d-e90c-ebe04f3e4521.htm"}},[a._v("onParticipantLeft()")]),a._v("\ncallback at the same time:")]),a._v(" "),s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// The callback of leaving the ChannelReason")]),a._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token return-type class-name"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("onLeave")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelReason")]),a._v(" reason"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" channelId"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token range operator"}},[a._v("..")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// Destroy the video")]),a._v("\n    mParticipant"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("stopVideo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),s("h2",{attrs:{id:"destroy-local-and-remote-video-images"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#destroy-local-and-remote-video-images"}},[a._v("#")]),a._v(" Destroy local and remote video images")]),a._v(" "),s("p",[a._v("After hanging up the video,Call\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/851cc6d3-1b5a-8e26-ce3c-a3c1780936d2.htm"}},[a._v("stopVideo()")]),a._v("\nin the\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/8ad58616-3028-b8d3-8106-81b8b805c1ea.htm"}},[a._v("JCMediaChannelParticipant")]),a._v("\nto destroy local and remote video images.")]),a._v(" "),s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[a._v("mParticipant"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("stopVideo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("h2",{attrs:{id:"destroy-a-channel"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#destroy-a-channel"}},[a._v("#")]),a._v(" Destroy a channel")]),a._v(" "),s("p",[a._v("If you want to destroy a channel, you can call the following interface,\nand all members will be quit:")]),a._v(" "),s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// End a channel")]),a._v("\nmMediaChannel"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("stop")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("In a group video call, you need to call\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/851cc6d3-1b5a-8e26-ce3c-a3c1780936d2.htm"}},[a._v("stopVideo()")]),a._v("\nto remove the video image when leaving the channel:")]),a._v(" "),s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[a._v("mParticipant"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("stopVideo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),s("p",[a._v("After the channel is stopped, the member that initiated the termination\nreceives the\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/d3732af7-2770-2d00-e4cb-e8f658da6c48.htm"}},[a._v("onStop()")]),a._v("\ncallback, and other members receive the\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/f356aba3-ebed-a72c-4e34-02a684925a15.htm"}},[a._v("onLeave()")]),a._v("\ncallback at the same time. Please refer to\n"),s("a",{attrs:{href:"/portal/reference/V2.1/windows/html/4481d778-9d4d-43fe-f94d-fdfa690dd939.htm"}},[a._v("MediaChannelReason")]),a._v("\nfor the enumeration value of the reason for failure:")]),a._v(" "),s("div",{staticClass:"language-csharp extra-class"},[s("pre",{pre:!0,attrs:{class:"language-csharp"}},[s("code",[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token return-type class-name"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("onStop")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token class-name"}},[s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")])]),a._v(" result"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelReason")]),a._v(" reason"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),s("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// destroy the video, canvas is the instance of JCMediaDeviceVideoCanvas object")]),a._v("\n    mParticipant"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),s("span",{pre:!0,attrs:{class:"token function"}},[a._v("stopVideo")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    canvas "),s("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])])}),[],!1,null,null,null);t.default=n.exports},367:function(a,t,e){a.exports=e.p+"assets/img/multivideoworkflow.d53c86ce.png"}}]);