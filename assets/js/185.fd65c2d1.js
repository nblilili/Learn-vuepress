(window.webpackJsonp=window.webpackJsonp||[]).push([[185],{363:function(a,t,s){a.exports=s.p+"assets/img/multivideoworkflow.85fcfb5a.png"},859:function(a,t,s){"use strict";s.r(t);var n=s(29),e=Object(n.a)({},(function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h1",{attrs:{id:"实现视频互动直播"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#实现视频互动直播"}},[a._v("#")]),a._v(" 实现视频互动直播")]),a._v(" "),n("p",[a._v("本章将介绍如何实现视频互动直播，视频互动直播的 API 调用时序见下图：")]),a._v(" "),n("p",[n("img",{attrs:{src:s(363),alt:"../../../../_images/multivideoworkflow.png"}})]),a._v(" "),n("h2",{attrs:{id:"初始化"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#初始化"}},[a._v("#")]),a._v(" 初始化")]),a._v(" "),n("p",[a._v("调用\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/cb59bc27-6528-9dbf-c996-de857096f847.htm"}},[a._v("JCMediaDevice.create()")]),a._v("\n和\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/03ba7506-bd05-93a0-ddd6-605eea7c7ee6.htm"}},[a._v("JCMediaChannel.create()")]),a._v("\n以初始化实现多方通话需要的模块:")]),a._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 声明对象")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaDevice")]),a._v(" mMediaDevice"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannel")]),a._v(" mMediaChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 初始化函数")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token return-type class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("initialize")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("Context")]),a._v(" context"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 1. 媒体类")]),a._v("\n    mMediaDevice "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" JCMediaDevice"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("create")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("mClient"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 2. 媒体通道类")]),a._v("\n    mMediaChannel "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" JCMediaChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("create")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("client"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" mediaDevice"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),n("p",[a._v("其中：")]),a._v(" "),n("ul",[n("li",[a._v("JCMediaDevice create 方法中的 this 为实现\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/3a00aa12-4e18-cf90-4610-b2c9c63b7a7b.htm"}},[a._v("JCMediaDeviceCallback")]),a._v("\n接口的对象，用于将媒体设备相关的事件通知给上层。")])]),a._v(" "),n("p",[a._v("JCMediaDeviceCallback 中的主要方法如下")]),a._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//摄像头变化")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token return-type class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onCameraUpdate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//音频输出变化")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token return-type class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onAudioOutputTypeChange")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("string")])]),a._v(" audioOutputType"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),n("ul",[n("li",[a._v("JCMediaChannel create 方法中的 this 为实现\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/e21fadeb-6230-0f07-efdc-6f953cf790bc.htm"}},[a._v("JCMediaChannelCallback")]),a._v("\n接口的对象，用于将频道中的相关事件通知给上层")])]),a._v(" "),n("p",[a._v("JCMediaChannelCallback 中的主要方法如下")]),a._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//自身状态变化回调")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token return-type class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onMediaChannelStateChange")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelState")]),a._v(" state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelState")]),a._v(" oldState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//频道属性变化")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token return-type class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onMediaChannelPropertyChange")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("PropChangeParam")]),a._v(" propChangeParam"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//加入频道结果回调")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token return-type class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onJoin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")])]),a._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelReason")]),a._v(" reason"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("string")])]),a._v(" channelId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//离开频道结果回调")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token return-type class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onLeave")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelReason")]),a._v(" reason"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("string")])]),a._v(" channelId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//解散频道结果回调")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token return-type class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onStop")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")])]),a._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelReason")]),a._v(" reason"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//查询频道结果回调")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token return-type class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onQuery")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")])]),a._v(" operationId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")])]),a._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelReason")]),a._v(" reason"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelQueryInfo")]),a._v(" queryInfo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//成员加入回调")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token return-type class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onParticipantJoin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelParticipant")]),a._v(" participant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//成员离开回调")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token return-type class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onParticipantLeft")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelParticipant")]),a._v(" participant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//成员更新回调")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token return-type class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onParticipantUpdate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelParticipant")]),a._v(" participant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelParticipant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("ChangeParam")]),a._v(" changeParam"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//成员声音变化")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token return-type class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onParticipantVolumeChange")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelParticipant")]),a._v(" participant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),n("h2",{attrs:{id:"角色设置"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#角色设置"}},[a._v("#")]),a._v(" 角色设置")]),a._v(" "),n("p",[a._v("加入频道前要先进行角色的设置。其中角色设置包括主播和观众。 角色值可以根据\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/e8ce33fb-e1af-d33e-f0d8-795a840eae30.htm"}},[a._v("JCMediaChannel.CustomRole")]),a._v("\n枚举值进行自定义，例如")]),a._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//自定义主播角色")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelCustomRole")]),a._v(" ROLE_BROASCASTER "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" JCMediaChannelConstants"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("CUSTOM_ROLE_0"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//自定义观众角色")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelCustomRole")]),a._v(" ROLE_AUDIENCE "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" JCMediaChannelConstants"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("CUSTOM_ROLE_1"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),n("p",[a._v("调用\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/02d30d7f-6906-cea0-9775-a244e2b25e87.htm"}},[a._v("setCustomRole()")]),a._v("\n设置自己的角色以进入频道。")]),a._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 设置角色，participant(第二个参数） 值为 null 代表设置自身的角色")]),a._v("\nmediaChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("setCustomRole")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("ROLE_BROASCASTER"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),n("h2",{attrs:{id:"加入频道"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#加入频道"}},[a._v("#")]),a._v(" 加入频道")]),a._v(" "),n("p",[a._v("#. 调用\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/70f2d136-ebf6-12fc-eb1e-2a90622caca7.htm"}},[a._v("enableUploadAudioStream()")]),a._v("\n开启音频流。调用\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/75fc5ba5-75a9-c704-5bd2-bf011fb8a082.htm"}},[a._v("enableUploadVideoStream()")]),a._v("\n开启视频流。")]),a._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 1. 开启音频流")]),a._v("\nmMediaDeviceChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("enableUploadAudioStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 2. 开启视频流")]),a._v("\nmMediaDeviceChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("enableUploadVIdeoStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),n("ol",[n("li",[n("p",[a._v("创建并加入频道，需要传入 "),n("code",[a._v("channelIdOrUri")]),a._v(" 和\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/af4ac634-bbe3-76e3-d1f8-120213ef2fff.htm"}},[a._v("JCMediaChannel.JoinParam")]),a._v("\n。")]),a._v(" "),n("ul",[n("li",[n("p",[n("code",[a._v("channelIdOrUri")]),a._v(" 表示频道 ID 或频道 Uri。")])]),a._v(" "),n("li",[n("p",[n("code",[a._v("JCMediaChannelJoinParam")]),a._v(" 中 "),n("code",[a._v("uriMode")]),a._v(" 参数设置为 true 时表示传入频道\nUri，设置其他参数时表示传入频道 ID。传入相同的频道 ID 或相同的频道 Uri 的用户会进入同一个频道。")])])]),a._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[a._v("mMediaChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"222"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])])]),a._v(" "),n("p",[a._v("#. 加入频道后收到\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/535cbae7-841e-ca31-32ea-87c1a840eff1.htm"}},[a._v("onJoin()")]),a._v("\n回调。")]),a._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token return-type class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onJoin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")])]),a._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelReason")]),a._v(" reason"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" channelId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 加入频道成功")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("else")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 加入频道失败")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),n("h2",{attrs:{id:"创建本地视频画面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建本地视频画面"}},[a._v("#")]),a._v(" 创建本地视频画面")]),a._v(" "),n("p",[a._v("加入频道后，调用\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/8289e4bf-8045-497b-f584-fc76cad8f8a1.htm"}},[a._v("JCMediaChannel")]),a._v("\n中的\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/9e72c43b-5c57-187c-b062-c766eb43e8c9.htm"}},[a._v("getParticipant()")]),a._v("\n获取频道内自身对象， 然后调用\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/8ad58616-3028-b8d3-8106-81b8b805c1ea.htm"}},[a._v("JCMediaChannelParticipant")]),a._v("\n中的\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/6243f463-7566-cc48-dd7f-1b29ea2604cb.htm"}},[a._v("startVideo()")]),a._v("\n方法打开本地视频预览。返回对象为\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/6a5b853c-d890-c30e-d236-5728d789ace1.htm"}},[a._v("JCMediaDeviceVideoCanvas")]),a._v("。（调用此方法会打开摄像头）")]),a._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 打开本地视频预览")]),a._v("\nmMediaChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("getSelfParticipant")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("startVideo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("JCMediaDeviceRenderMode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("FULLCONTENT"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" JCMediaChannelPictureSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("None"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),n("h2",{attrs:{id:"创建远端视频画面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#创建远端视频画面"}},[a._v("#")]),a._v(" 创建远端视频画面")]),a._v(" "),n("p",[a._v("加入频道后，调用\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/8289e4bf-8045-497b-f584-fc76cad8f8a1.htm"}},[a._v("JCMediaChannel")]),a._v("\n中的\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/6be8ebb1-fe3c-fd9f-c72f-10b99e327ff6.htm"}},[a._v("getParticipants()")]),a._v("\n获取频道内所有成员对象。")]),a._v(" "),n("p",[a._v("然后调用\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/8ad58616-3028-b8d3-8106-81b8b805c1ea.htm"}},[a._v("JCMediaChannelParticipant")]),a._v("\n类中的\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/6243f463-7566-cc48-dd7f-1b29ea2604cb.htm"}},[a._v("startVideo()")]),a._v("\n获取远端视频画面。返回对象为\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/6a5b853c-d890-c30e-d236-5728d789ace1.htm"}},[a._v("JCMediaDeviceVideoCanvas")]),a._v("。")]),a._v(" "),n("p",[n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/6243f463-7566-cc48-dd7f-1b29ea2604cb.htm"}},[a._v("startVideo()")]),a._v("\n方法调用后，还需要调用\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/8289e4bf-8045-497b-f584-fc76cad8f8a1.htm"}},[a._v("JCMediaChannel")]),a._v("\n中的\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/1a89408a-468e-73b8-6b6c-376811a18dda.htm"}},[a._v("requestVideo()")]),a._v("\n方法请求频道中其他用户的视频流。")]),a._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 获取所有成员对象")]),a._v("\nList"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("JCMediaChannelParticipantparticipants "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" mMediaChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("getSelfParticipant")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 调用创建视频画面的方法")]),a._v("\nparticipants"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("startVideo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("JCMediaDeviceRenderMode"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("FULLCONTENT"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" JCMediaChannelPictureSize"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("None"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 请求远端视频流, 此处调用大尺寸视频窗口")]),a._v("\nmMediaChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("requestVideo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("participants"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("get")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" Large"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),n("h2",{attrs:{id:"离开频道"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#离开频道"}},[a._v("#")]),a._v(" 离开频道")]),a._v(" "),n("p",[a._v("调用\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/7f034b94-15ee-8d49-48e3-905fff27f31f.htm"}},[a._v("leave()")]),a._v("\n方法可以离开当前频道。")]),a._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[a._v("mMediaChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("leave")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),n("p",[a._v("在多方视频通话中，离开频道还需要调用\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/851cc6d3-1b5a-8e26-ce3c-a3c1780936d2.htm"}},[a._v("stopVideo()")]),a._v("\n移除视频画面。")]),a._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[a._v("mParticipant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("stopVideo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),n("p",[a._v("离开频道后，自身收到\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/f356aba3-ebed-a72c-4e34-02a684925a15.htm"}},[a._v("onLeave()")]),a._v("\n回调，其他成员同时收到\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/89a35b12-8c2c-247d-e90c-ebe04f3e4521.htm"}},[a._v("onParticipantLeft()")]),a._v("\n回调")]),a._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 离开频道结果回调")]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token return-type class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onLeave")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelReason")]),a._v(" reason"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("String")]),a._v(" channelId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token range operator"}},[a._v("..")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 销毁视频画面")]),a._v("\n    mParticipant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("stopVideo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),n("h2",{attrs:{id:"销毁本地和远端视频画面"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#销毁本地和远端视频画面"}},[a._v("#")]),a._v(" 销毁本地和远端视频画面")]),a._v(" "),n("p",[a._v("在视频挂断后，调用\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/8ad58616-3028-b8d3-8106-81b8b805c1ea.htm"}},[a._v("JCMediaChannelParticipant")]),a._v("\n里的\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/851cc6d3-1b5a-8e26-ce3c-a3c1780936d2.htm"}},[a._v("stopVideo()")]),a._v("\n销毁本地和远端视频画面。")]),a._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[a._v("mParticipant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("stopVideo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),n("h2",{attrs:{id:"解散频道"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#解散频道"}},[a._v("#")]),a._v(" 解散频道")]),a._v(" "),n("p",[a._v("如果想解散频道，可以调用下面的接口，此时所有成员都将被退出。")]),a._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 结束频道")]),a._v("\nmMediaChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("stop")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),n("p",[a._v("在多方视频通话中，离开频道还需要调用\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/851cc6d3-1b5a-8e26-ce3c-a3c1780936d2.htm"}},[a._v("stopVideo()")]),a._v("\n移除视频画面。")]),a._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[a._v("mParticipant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("stopVideo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),n("p",[a._v("解散频道后，发起结束的成员收到\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/d3732af7-2770-2d00-e4cb-e8f658da6c48.htm"}},[a._v("onStop()")]),a._v("\n回调，其他成员同时收到\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/f356aba3-ebed-a72c-4e34-02a684925a15.htm"}},[a._v("onLeave()")]),a._v("\n回调。 解散失败原因枚举值请参考\n"),n("a",{attrs:{href:"/portal/reference/V2.1/windows/html/4481d778-9d4d-43fe-f94d-fdfa690dd939.htm"}},[a._v("MediaChannelReason")]),a._v("\n。")]),a._v(" "),n("div",{staticClass:"language-csharp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-csharp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token return-type class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onStop")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token class-name"}},[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")])]),a._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaChannelReason")]),a._v(" reason"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 销毁视频， canvas 为 JCMediaDeviceVideoCanvas 对象实例")]),a._v("\n    mParticipant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("stopVideo")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    canvas "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])])}),[],!1,null,null,null);t.default=e.exports}}]);