(window.webpackJsonp=window.webpackJsonp||[]).push([[442],{868:function(a,s,t){"use strict";t.r(s);var n=t(29),e=Object(n.a)({},(function(){var a=this,s=a.$createElement,t=a._self._c||s;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"视频管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视频管理"}},[a._v("#")]),a._v(" 视频管理")]),a._v(" "),t("h2",{attrs:{id:"视频数据采集管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视频数据采集管理"}},[a._v("#")]),a._v(" 视频数据采集管理")]),a._v(" "),t("h3",{attrs:{id:"设置要开启的摄像头类型"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置要开启的摄像头类型"}},[a._v("#")]),a._v(" 设置要开启的摄像头类型")]),a._v(" "),t("p",[a._v("视频采集前，可以指定要开启的摄像头")]),a._v(" "),t("p",[a._v("首先，获取摄像头列表")]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 摄像头列表")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// </summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" List"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("<")]),a._v("JCMediaDeviceCamera"),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v(">")]),a._v(" cameras\n")])])]),t("p",[a._v("其中，JCMediaDeviceCamera 有以下几个变量")]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 名称")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// </summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("string")])]),a._v(" cameraName "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("get")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("internal")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("set")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// id")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// </summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("string")]),a._v(" cameraId\n")])])]),t("p",[a._v("切换摄像头")]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 切换摄像头")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// </summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('/// <param name="camera">要切换的摄像头</param>')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <returns>true为切换成功，false为切换失败</returns>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("switchCamera")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaDeviceCamera")]),a._v(" camera"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("p",[t("strong",[a._v("示例代码")])]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 获取摄像头列表")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("List"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("JCMediaDeviceCamera"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" cameraDevices "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" mediaDevice"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("cameraDevices"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 切换摄像头")]),a._v("\nmediaDevice"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("switchCamera")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("mediaDevice"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("cameras"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("h3",{attrs:{id:"设置摄像头采集分辨率"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#设置摄像头采集分辨率"}},[a._v("#")]),a._v(" 设置摄像头采集分辨率")]),a._v(" "),t("p",[a._v("您可以通过自定义摄像头采集参数实现不同的视频分辨率，如采集的高度、宽度和帧速率。")]),a._v(" "),t("p",[a._v("摄像头采集属性设置接口如下：")]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 设定摄像头分辨率，请在调用startCamera()接口之前调用才会生效")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// </summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('/// <param name="width">摄像头分辨率宽</param>')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('/// <param name="height">摄像头分辨率高</param>')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('/// <param name="framerate">帧速率</param>')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("setCameraProperty")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")])]),a._v(" width"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")])]),a._v(" height"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")])]),a._v(" framerate"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("p",[a._v("示例代码")]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 设置摄像头采集属性")]),a._v("\nmediaDevice"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("setCameraProperty")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("640")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("360")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("30")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("h2",{attrs:{id:"视频渲染管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视频渲染管理"}},[a._v("#")]),a._v(" 视频渲染管理")]),a._v(" "),t("h3",{attrs:{id:"创建本地和远端视频画面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#创建本地和远端视频画面"}},[a._v("#")]),a._v(" 创建本地和远端视频画面")]),a._v(" "),t("ul",[t("li",[a._v("本地视频渲染")])]),a._v(" "),t("p",[a._v("本地视频渲染通过调用 startCameraVideo 接口获得本地视频对象用于 UI 界面显示，"),t("strong",[a._v("该接口会打开摄像头")])]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 获取预览视频对象，通过此对象能获得视图用于UI显示")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// </summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('/// <param name="mode">渲染方式</param>')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <returns>JCMediaDeviceVideoCanvas对象</returns>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token return-type class-name"}},[a._v("JCMediaDeviceVideoCanvas")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("startCameraVideo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaDeviceRenderMode")]),a._v(" mode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("p",[a._v("其中，渲染模式（JCMediaDeviceRenderMode)有以下三种")]),a._v(" "),t("table",[t("colgroup",[t("col",{staticStyle:{width:"50%"}}),a._v(" "),t("col",{staticStyle:{width:"50%"}})]),a._v(" "),t("thead",[t("tr",{staticClass:"header"},[t("th",[t("p",[a._v("名称")])]),a._v(" "),t("th",[t("p",[a._v("描述")])])])]),a._v(" "),t("tbody",[t("tr",{staticClass:"odd"},[t("td",[t("p",[a._v("FULLSCREEN")])]),a._v(" "),t("td",[t("p",[a._v("铺满窗口")])])]),a._v(" "),t("tr",{staticClass:"even"},[t("td",[t("p",[a._v("FULLCONTENT")])]),a._v(" "),t("td",[t("p",[a._v("全图像显示，会有黑边，但在窗口跟图像比例相同的情况下不会有黑边")])])]),a._v(" "),t("tr",{staticClass:"odd"},[t("td",[t("p",[a._v("AUTO")])]),a._v(" "),t("td",[t("p",[a._v("自适应")])])])])]),a._v(" "),t("ul",[t("li",[a._v("远端视频渲染")])]),a._v(" "),t("p",[a._v("您可以调用 startVideo 方法获取对端视频对象并进行渲染")]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 获得视频对象，通过此对象能获得视图用于UI显示")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// </summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('/// <param name="videoSource">渲染标识串，比如 JCMediaChannelParticipant JCCallItem 中的 renderId，当videoSource 为 videoFileId 时，内部会调用 startVideoFile</param>')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('/// <param name="mode">渲染模式</param>')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <returns>JCMediaDeviceVideoCanvas对象</returns>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token return-type class-name"}},[a._v("JCMediaDeviceVideoCanvas")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("startVideo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("string")])]),a._v(" videoSource"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaDeviceRenderMode")]),a._v(" mode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("p",[t("strong",[a._v("示例代码")])]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 获取摄像头列表")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("List"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("<")]),a._v("JCMediaDeviceCamera"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(">")])]),a._v(" cameraDevices "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" mediaDevice"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("cameras"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 打开本地视频预览")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaDeviceVideoCanvas")]),a._v(" localCanvas "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" mediaDevice"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("startCameraVideo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("JCMediaDeviceRenderMode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("FULLCONTENT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ImageBrush")]),a._v(" image "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[a._v("ImageBrush")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("localCanvas"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("videoView"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nimage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("Stretch "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" Stretch"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("Uniform"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("label"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("Background "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" image"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 远端视频渲染，renderId来源于通话对象，一对一为JCCallItem对象，多方为JCMediaChannelParticipant对象")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaDeviceVideoCanvas")]),a._v(" remoteCanvas "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" mediaDevice"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("startVideo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("renderId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" JCMediaDeviceRenderMode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("FULLSCREEN"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("ImageBrush")]),a._v(" image "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("new")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token constructor-invocation class-name"}},[a._v("ImageBrush")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("remoteCanvas"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("videoView"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\nimage"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("Stretch "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" Stretch"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("Uniform"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("label"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("Background "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" image"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),t("hr"),a._v(" "),t("h3",{attrs:{id:"销毁本地和远端视频画面"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#销毁本地和远端视频画面"}},[a._v("#")]),a._v(" 销毁本地和远端视频画面")]),a._v(" "),t("p",[a._v("在视频通话结束或者视频通话中，如果想销毁视频画面，可以调用下面的接口")]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 停止视频")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// </summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('/// <param name="canvas">JCMediaDeviceVideoCanvas对象，由startVideo获得</param>')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("stopVideo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaDeviceVideoCanvas")]),a._v(" canvas"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("p",[a._v("示例代码:")]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaDeviceVideoCanvas")]),a._v(" localCanvas "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" mediaDevice"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("startCameraVideo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("JCMediaDeviceRenderMode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("FULLCONTENT"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaDeviceVideoCanvas")]),a._v(" remoteCanvas "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" mediaDevice"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("startVideo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("renderId"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" JCMediaDeviceRenderMode"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("FULLSCREEN"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("localCanvas "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("smvideoGrid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("Background "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        mediaDevice"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("stopVideo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("localCanvas"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        localCanvas "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("remoteCanvas "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("!=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("fullvideoGrid"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("Background "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        mediaDevice"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("stopVideo")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("remoteCanvas"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n        remoteCanvas "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("null")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),t("hr"),a._v(" "),t("h3",{attrs:{id:"视频通话截图"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视频通话截图"}},[a._v("#")]),a._v(" 视频通话截图")]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 视频通话截图")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// </summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('/// <param name="width">截屏宽度像素，-1为视频源像素</param>')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('/// <param name="height">截屏高度像素，-1为视频源像素</param>')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('/// <param name="filePath">文件路径</param>')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <returns>是否成功</returns>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("snapshot")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")])]),a._v(" width"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")])]),a._v(" height"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("string")])]),a._v(" filePath"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("hr"),a._v(" "),t("h3",{attrs:{id:"更新视频渲染标识"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#更新视频渲染标识"}},[a._v("#")]),a._v(" 更新视频渲染标识")]),a._v(" "),t("p",[a._v("如果想替换当前摄像头视频画面，可以调用下面的接口")]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 更新视频渲染标识")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// </summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('/// <param name="videoSource">渲染标识</param>')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <returns>成功失败</returns>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("replace")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("string")])]),a._v(" videoSource"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("h3",{attrs:{id:"暂停渲染"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#暂停渲染"}},[a._v("#")]),a._v(" 暂停渲染")]),a._v(" "),t("p",[a._v("如果想暂停画面的渲染可以调用如下接口")]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 暂停渲染")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// </summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <returns>成功失败</returns>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("pause")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("h3",{attrs:{id:"恢复渲染"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#恢复渲染"}},[a._v("#")]),a._v(" 恢复渲染")]),a._v(" "),t("p",[a._v("如果想对已暂停的画面继续进行渲染，可以调用下面的接口")]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 恢复渲染")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// </summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <returns>成功失败</returns>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("resume")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("hr"),a._v(" "),t("h2",{attrs:{id:"视频设备管理"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#视频设备管理"}},[a._v("#")]),a._v(" 视频设备管理")]),a._v(" "),t("p",[a._v("视频设备管理主要用到 JCMediaDevice 类中的方法，具体如下：")]),a._v(" "),t("h3",{attrs:{id:"获取当前使用摄像头和默认摄像头"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#获取当前使用摄像头和默认摄像头"}},[a._v("#")]),a._v(" 获取当前使用摄像头和默认摄像头")]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 当前使用摄像头")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// </summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" JCMediaDeviceCamera camera\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 默认摄像头")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// </summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" JCMediaDeviceCamera defaultCamera\n")])])]),t("h3",{attrs:{id:"开启关闭摄像头"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#开启关闭摄像头"}},[a._v("#")]),a._v(" 开启关闭摄像头")]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 开启摄像头")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// </summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <returns>true为开启成功，false为开启失败</returns>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("startCamera")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 关闭摄像头")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// </summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <returns>true为关闭成功，false为关闭失败</returns>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("stopCamera")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("h3",{attrs:{id:"切换摄像头"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#切换摄像头"}},[a._v("#")]),a._v(" 切换摄像头")]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// 切换摄像头")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// </summary>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v('/// <param name="camera">要切换的摄像头</param>')]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("/// <returns>true为切换成功，false为切换失败</returns>")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token return-type class-name"}},[t("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")])]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("switchCamera")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCMediaDeviceCamera")]),a._v(" camera"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n")])])]),t("p",[t("strong",[a._v("示例代码")])]),a._v(" "),t("div",{staticClass:"language-csharp extra-class"},[t("pre",{pre:!0,attrs:{class:"language-csharp"}},[t("code",[t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 打开摄像头")]),a._v("\nmediaDevice"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("startCamera")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 关闭摄像头")]),a._v("\nmediaDevice"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("stopCamera")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// 切换摄像头")]),a._v("\nmediaDevice"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("switchCamera")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("mediaDevice"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("cameras"),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("[")]),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("]")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])])}),[],!1,null,null,null);s.default=e.exports}}]);