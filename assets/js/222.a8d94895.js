(window.webpackJsonp=window.webpackJsonp||[]).push([[222],{1045:function(a,t,e){"use strict";e.r(t);var n=e(29),s=Object(n.a)({},(function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[n("h1",{attrs:{id:"realize-group-voice-calling"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#realize-group-voice-calling"}},[a._v("#")]),a._v(" Realize group voice calling")]),a._v(" "),n("p",[a._v("This guide introduces how to implement group voice calling. The API call\nsequence of group voice calls is shown in the figure below:")]),a._v(" "),n("p",[n("img",{attrs:{src:e(375),alt:"../../../../_images_en/multiaudioworkflow.png"}})]),a._v(" "),n("h2",{attrs:{id:"initialize"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#initialize"}},[a._v("#")]),a._v(" Initialize")]),a._v(" "),n("p",[a._v("Extend the\n"),n("RouterLink",{attrs:{to:"/portal/reference/V2.1/windows/C++/html/class_j_c_media_channel_callback.html"}},[a._v("JCMediaChannelCallback")]),a._v("\nobject and\n"),n("RouterLink",{attrs:{to:"/portal/reference/V2.1/windows/C++/html/class_j_c_media_device_callback.html"}},[a._v("JCMediaDeviceCallback")]),a._v("\nobject, and implement the pure virtual functions in these two objects.")],1),a._v(" "),n("div",{staticClass:"language-cpp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-cpp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("class")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token class-name"}},[a._v("JCManager")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" JCMediaDeviceCallback"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),a._v(" JCMediaChannelCallback\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//The callback of MediaChannel state change")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("virtual")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onMediaChannelStateChange")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("JCMediaChannelState state"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" JCMediaChannelState oldState"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//The callback of channel property change")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("virtual")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onMediaChannelPropertyChange")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("JCMediaChannelPropChangeParam propChangeParam"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//The callback of joining ChannelReason")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("virtual")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onJoin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")]),a._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" JCMediaChannelReason reason"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("char")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" channelId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//The callback of leaving ChannelReason")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("virtual")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onLeave")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("JCMediaChannelReason reason"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("char")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" channelId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//The callback of channel Stop result")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("virtual")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onStop")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")]),a._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" JCMediaChannelReason reason"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//The callback of channel Query result")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("virtual")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onQuery")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" operationId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")]),a._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" JCMediaChannelReason reason"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" JCMediaChannelQueryInfo"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" queryInfo"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//The callback of ParticipantJoin")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("virtual")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onParticipantJoin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("JCMediaChannelParticipant"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" participant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//The callback of ParticipantLeft")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("virtual")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onParticipantLeft")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("JCMediaChannelParticipant"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" participant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//The callback of ParticipantUpdate")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("virtual")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onParticipantUpdate")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("JCMediaChannelParticipant"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" participant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" JCMediaChannelParticipant"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("::")]),a._v("ChangeParam changeParam"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//This callback triggers when messages are received in the channel")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("virtual")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onMessageReceive")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("char")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" type"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("char")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" content"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("char")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" fromUserId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//The callback of InviteSipUserResult")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("virtual")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onInviteSipUserResult")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("int")]),a._v(" operationId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")]),a._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" JCMediaChannelReason reason"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//The volume change of Participants")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("virtual")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onParticipantVolumeChange")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("JCMediaChannelParticipant"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" participant"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("public")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v(":")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//mediaDevice object")]),a._v("\n    JCMediaDevice"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" mediaDevice"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//mediaChannel object")]),a._v("\n    JCMediaChannel"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" mediaChannel"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),n("p",[a._v("Call\n"),n("RouterLink",{attrs:{to:"/portal/reference/V2.1/windows/C++/html/_j_c_media_device_8h.html#a96a10766264f3c12af531b70cb9c9749"}},[a._v("createJCMediaDevice")]),a._v("\nand\n"),n("RouterLink",{attrs:{to:"/portal/reference/V2.1/windows/C++/html/_j_c_call_8h.html#a29320972a659ce8eaf4994576103a62c"}},[a._v("createJCCall")]),a._v("\nto initialize the modules needed for group video calls:")],1),a._v(" "),n("div",{staticClass:"language-cpp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-cpp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//Initialize")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")]),a._v(" JCManager"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("::")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("initialize")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//1. Media class")]),a._v("\n    mediaDevice "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("createJCMediaDevice")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("client"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//1. mediaChannel class")]),a._v("\n    mediaChannel "),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("=")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("createJCMediaChannel")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("client"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" mediaDevice"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("this")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("return")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),n("p",[a._v("Among them:")]),a._v(" "),n("ul",[n("li",[n("p",[a._v("This in the JCMediaDevice create method is a derived class of\n"),n("RouterLink",{attrs:{to:"/portal/reference/V2.1/windows/C++/html/class_j_c_media_device_callback.html"}},[a._v("JCMediaDeviceCallback")]),a._v("\n, which is used to notify the upper layer of media device-related\nevents. Therefore, you need to create a derived class of\nJCMediaDeviceCallback, and then implement the pure virtual function\nof JCMediaDeviceCallback in the derived class.")],1)]),a._v(" "),n("li",[n("p",[a._v("This in the JCMediaChannel create method is a derived class of\n"),n("RouterLink",{attrs:{to:"/portal/reference/V2.1/windows/C++/html/class_j_c_media_channel_callback.html"}},[a._v("JCMediaChannelCallback")]),a._v("\n, which is used to notify related events in the channel to the upper\nlayer. Therefore, you need to create a derived class of\nJCMediaChannelCallback, and then implement the pure virtual function\nof JCMediaChannelCallback in the derived class.")],1)])]),a._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),n("p",[a._v("The object in the callback can only be used in the callback and cannot\nbe saved. The upper layer can obtain the call object through the\ncorresponding method.")])]),a._v(" "),n("h2",{attrs:{id:"join-a-channel"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#join-a-channel"}},[a._v("#")]),a._v(" Join a channel")]),a._v(" "),n("p",[a._v("JC SDK does not upload local audio streams by default, so if you need to\nenter the meeting to hear each other’s voices, you need to pre-open the\nupload logo of audio stream before joining the channel:")]),a._v(" "),n("ol",[n("li",[n("p",[a._v("Call\n"),n("RouterLink",{attrs:{to:"/portal/reference/V2.1/windows/C++/html/class_j_c_media_channel.html#a2b08d87b38fe2fd7a394e2786241cc4c"}},[a._v("enableUploadAudioStream")]),a._v("\nto enable audio streaming:")],1),a._v(" "),n("div",{staticClass:"language-cpp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-cpp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Turn on audio streaming")]),a._v("\nJCManager"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("::")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("shared")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),a._v("mediaChannel"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("enableUploadAudioStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("true")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])])])]),a._v(" "),n("div",{staticClass:"custom-block tip"},[n("p",{staticClass:"custom-block-title"},[a._v("TIP")]),a._v(" "),n("p",[a._v("This interface can be called before joining the channel, or after\njoining the channel. The differences between the two circumstances are\nas follows.")]),a._v(" "),n("p",[a._v("If it is called before joining the channel, it only turns on or off the\n“Upload Audio”, but not send data. When joining the channel\nsuccessfully, it will determine whether to upload audio data according\nto the value set by enableUploadAudioStream. At the same time, other\nmembers in the channel receive the status change callback\n(onParticipantUpdate) of the member “whether to upload audio”.")]),a._v(" "),n("p",[a._v("If called after joining the channel, it will turn on or off sending\nlocal audio stream data, and the server will also determine whether to\nupload audio data according to the value set by enableUploadAudioStream.\nAt the same time, other members in the channel will receive the state\nchange callback (onParticipantUpdate) of the member “whether to upload\naudio”.")]),a._v(" "),n("p",[a._v("In addition, this method can also implement the function of turning\non/off mute. When the enable value is false, the local audio stream will\nbe stopped, and you can hear other members’ voices, but other members\nwill not hear your voice. Thus, the mute function has been realized.")])]),a._v(" "),n("p",[a._v("Since the SDK uploads video streams by default, you need to turn off the\nupload video stream logo before joining the channel for voice calls:")]),a._v(" "),n("div",{staticClass:"language-cpp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-cpp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Turn off uploading video stream")]),a._v("\nJCManager"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("::")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("shared")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),a._v("mediaChannel"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("enableUploadVideoStream")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token boolean"}},[a._v("false")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),n("ol",{attrs:{start:"2"}},[n("li",[a._v("Call the\n"),n("RouterLink",{attrs:{to:"/portal/reference/V2.1/windows/C++/html/class_j_c_media_channel.html#acfdb1da52955cf8b01d95527eb28890b"}},[a._v("join")]),a._v("\nmethod to join the channel. You need to pass in the following\nparameters in this method:")],1)]),a._v(" "),n("ul",[n("li",[n("p",[a._v("channelIdOrUri: Channel ID or channel Uri. When uriMode in param is\nset to true, it means channel Uri, and others mean channel ID. Users\nwith the same channel ID or Uri will enter the same channel.")])]),a._v(" "),n("li",[n("p",[a._v("joinParam: Join parameters, if not, fill in NULL. See\n"),n("RouterLink",{attrs:{to:"/portal/reference/V2.1/windows/C++/html/class_j_c_media_channel_join_param.html"}},[a._v("JCMediaChannelJoinParam")]),a._v("\nobject for details.")],1)])]),a._v(" "),n("div",{staticClass:"language-cpp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-cpp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// Join a channel")]),a._v("\nJCManager"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("::")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("shared")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),a._v("mediaChannel"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("join")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token string"}},[a._v('"channel ID"')]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token constant"}},[a._v("NULL")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),n("ol",{attrs:{start:"3"}},[n("li",[n("p",[a._v("Receive\n"),n("RouterLink",{attrs:{to:"/portal/reference/V2.1/windows/C++/html/class_j_c_media_channel_callback.html#a430bd78b28e189ee3c9564ddb7db213d"}},[a._v("onJoin")]),a._v("\ncallback after joining a channel:")],1),a._v(" "),n("div",{staticClass:"language-cpp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-cpp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// The callback of joining ChannelReason")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" JCManager"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("::")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onJoin")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")]),a._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" JCMediaChannelReason reason"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("char")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" channelId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("if")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//the logic of successful joining in")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("else")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//the logic of failed joining in")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(".")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])])])]),a._v(" "),n("h2",{attrs:{id:"leave-a-channel"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#leave-a-channel"}},[a._v("#")]),a._v(" Leave a channel")]),a._v(" "),n("p",[a._v("Call the\n"),n("RouterLink",{attrs:{to:"/portal/reference/V2.1/windows/C++/html/class_j_c_media_channel.html#a93c19137044fec1568f73f1f6dbfee84"}},[a._v("leave")]),a._v("\nmethod to leave the current channel:")],1),a._v(" "),n("div",{staticClass:"language-cpp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-cpp"}},[n("code",[a._v("JCManager"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("::")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("shared")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),a._v("mediaChannel"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("leave")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),n("p",[a._v("After leaving the channel, they receive the\n"),n("RouterLink",{attrs:{to:"/portal/reference/V2.1/windows/C++/html/class_j_c_media_channel_callback.html#a18bc4fae89f0d56fb849075f1603ac71"}},[a._v("onLeave")]),a._v("\ncallback, and other members receive the\n"),n("RouterLink",{attrs:{to:"/portal/reference/V2.1/windows/C++/html/class_j_c_media_channel_callback.html#a5888058878f3aaa382b3ede94228a6e8"}},[a._v("onParticipantLeft")]),a._v("\ncallback at the same time:")],1),a._v(" "),n("div",{staticClass:"language-cpp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-cpp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// The callback of leaving the channel")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" JCManager"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("::")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onLeave")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),a._v("JCMediaChannelReason reason"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("const")]),a._v(" "),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("char")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("*")]),a._v(" channelId"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//The logic of leaving a channel")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),n("h2",{attrs:{id:"destroy-a-channel"}},[n("a",{staticClass:"header-anchor",attrs:{href:"#destroy-a-channel"}},[a._v("#")]),a._v(" Destroy a channel")]),a._v(" "),n("p",[a._v("If you want to destroy a channel, you can call the following interface,\nand all members will be quit:")]),a._v(" "),n("div",{staticClass:"language-cpp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-cpp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("// End a channel")]),a._v("\nJCManager"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("::")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("shared")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),a._v("mediaChannel"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("->")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("stop")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(";")]),a._v("\n")])])]),n("p",[a._v("After the channel is stopped, the member that initiated the termination\nreceives the\n"),n("RouterLink",{attrs:{to:"/portal/reference/V2.1/windows/C++/html/class_j_c_media_channel_callback.html#a61a1d5a81563d34f80e70541a114a74a"}},[a._v("onStop")]),a._v("\ncallback, and other members receive the\n"),n("RouterLink",{attrs:{to:"/portal/reference/V2.1/windows/C++/html/class_j_c_media_channel_callback.html#a18bc4fae89f0d56fb849075f1603ac71"}},[a._v("onLeave")]),a._v("\ncallback at the same time. Please refer to\n"),n("RouterLink",{attrs:{to:"/portal/reference/V2.1/windows/C++/html/_j_c_media_channel_constants_8h.html#a24a2154e4bb2db63c75b31cd2b021fc3"}},[a._v("JCMediaChannelReason")]),a._v("\nfor the enumeration value of the reason for failure.")],1),a._v(" "),n("div",{staticClass:"language-cpp extra-class"},[n("pre",{pre:!0,attrs:{class:"language-cpp"}},[n("code",[n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("void")]),a._v(" JCManager"),n("span",{pre:!0,attrs:{class:"token operator"}},[a._v("::")]),n("span",{pre:!0,attrs:{class:"token function"}},[a._v("onStop")]),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("(")]),n("span",{pre:!0,attrs:{class:"token keyword"}},[a._v("bool")]),a._v(" result"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(",")]),a._v(" JCMediaChannelReason reason"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(")")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("{")]),a._v("\n    "),n("span",{pre:!0,attrs:{class:"token comment"}},[a._v("//The pocess logic of ending a channel")]),a._v("\n"),n("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("}")]),a._v("\n")])])]),n("p",[a._v("Now, you have completed the basic function of group voice calling.")])])}),[],!1,null,null,null);t.default=s.exports},375:function(a,t,e){a.exports=e.p+"assets/img/multiaudioworkflow.82162872.png"}}]);