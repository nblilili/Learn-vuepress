(window.webpackJsonp=window.webpackJsonp||[]).push([[462],{890:function(t,s,a){"use strict";a.r(s);var e=a(29),n=Object(e.a)({},(function(){var t=this,s=t.$createElement,e=t._self._c||s;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"通话集成"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通话集成"}},[t._v("#")]),t._v(" 通话集成")]),t._v(" "),e("h2",{attrs:{id:"集成开发"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#集成开发"}},[t._v("#")]),t._v(" 集成开发")]),t._v(" "),e("h3",{attrs:{id:"通话集成流程"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通话集成流程"}},[t._v("#")]),t._v(" 通话集成流程")]),t._v(" "),e("h4",{attrs:{id:"在-html-中添加如下代码，细节请参考样例网页"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#在-html-中添加如下代码，细节请参考样例网页"}},[t._v("#")]),t._v(" 在 HTML 中添加如下代码，细节请参考样例网页")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("script src"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"webrtc.min.js"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("script"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n")])])]),e("h4",{attrs:{id:"建立网页与菊风云连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#建立网页与菊风云连接"}},[t._v("#")]),t._v(" 建立网页与菊风云连接")]),t._v(" "),e("p",[t._v("打开连接")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("var")]),t._v(" jc "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token class-name"}},[t._v("WebRTC")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("config"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" trace"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n  trace 为可选的跟踪打印函数\n  config 支持如下格式"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'url'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"https://ums.justalkcloud.com:18443"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'confProps'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"roomId"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10210311"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"regionId"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"10"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mediaType"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"appKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"6c****************"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"accountName"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1111111"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"password"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mtcConfQualityGradeKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mtcConfSecurityKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mtcConfPasswordKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"123123"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mtcConfCompositeModeKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mtcConfStateKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mtcConfCapacityKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v("\n        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'id'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'getsourceid'")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'https:/.....'")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("url")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("WS 服务器或 HTTP 服务器地址")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("id")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("可选的网页标识,默认随机生成")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("getsourceid")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("可选的 Chrome 屏幕共享扩展网页")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("confProps")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("会议相关参数"),e("br"),e("strong",[t._v("必要参数")]),e("br"),t._v("- roomId 会议号"),e("br"),t._v("- accountName 账号"),e("br"),t._v("- password 账号密码"),e("br"),t._v("- AppKey APPKEY"),e("br"),e("br"),e("strong",[t._v("可选参数")]),e("br"),t._v("- regionId 区域 Id, 默认”0”"),e("br"),t._v("- mediaType 媒体类型, 0音频，默认1视频"),e("br"),t._v("- mtcConfPasswordKey 可选的会议密码,默认‘123456’"),e("br"),t._v("- mtcConfQualityGradeKey 会议视频尺寸级别"),e("br"),t._v("- mtcConfSecurityKey 是否加密传输"),e("br"),t._v("- mtcConfCompositeModeKey 收到视频的混合模式"),e("br"),t._v("- mtcConfStateKey 加入时的初始状态"),e("br"),t._v("- mtcConfCapacityKey 会议允许最大人数")])])])]),t._v(" "),e("p",[t._v("如果连接成功，则会收到 onopen 回调")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onopen")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" config"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n   id     本地Id\n   config 配置信息\n           "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("instanceId  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("为peer")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("对端Id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n           "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("iceServers  为媒体配置\n")])])]),e("p",[t._v("如果发生错误，则会收到 onerror 回调")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onerror")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("error"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  error   错误对象\n\n          应该关闭连接并重置界面\n")])])]),e("h4",{attrs:{id:"呼叫"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#呼叫"}},[t._v("#")]),t._v(" 呼叫")]),t._v(" "),e("p",[t._v("连接成功后，即可进行呼叫，呼叫调用如下接口")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("jc")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("call")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("configuration"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" constraints"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" peer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n   configuration  可选的标准 RTCConfiguration object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("可以为"),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("默认由服务器下发")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("由onopen事件返回"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n   constraints    标准 MediaStreamConstraints object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                  "),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("参考update")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("参数说明\n   peer           可选的对端Id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("http连接时被忽略\n")])])]),e("p",[t._v("呼叫成功后，对端即可收到 oncall 回调")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("oncall")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("peer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  peer 对端Id\n")])])]),e("h4",{attrs:{id:"通话连接"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#通话连接"}},[t._v("#")]),t._v(" 通话连接")]),t._v(" "),e("p",[t._v("通话建立后，对端可通过 onaddstream 收到发送端的音视频流数据")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onaddstream")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stream"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n    stream  为标准 MediaStream 实例"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n            使用"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("HTML")]),t._v("中的video"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("audio标签呈现\n    type 可选为\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localvideo'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 本地视频\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localshare'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 本地共享\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'peervideo'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  对端视频\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'peeraudio'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  对端音频\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'peershare'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  对端共享\n        "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'peerdata'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   对端非媒体数据\n")])])]),e("p",[t._v("当发送端关闭发送音视频时，对端将收到 onremovestream 回调")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onremovestream")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("stream"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" type"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n   stream  为标准 MediaStream 实例\n   type    "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localvideo'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 本地视频\n           "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'localshare'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 本地共享\n           "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'peervideo'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  对端视频\n           "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'peeraudio'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  对端音频\n           "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'peershare'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("  对端共享\n           "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'peerdata'")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   对端非媒体数据\n")])])]),e("p",[t._v("会议中如有成员发送文本消息，则其他成员将通过 onconfchat 收到文本消息回调")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cmd"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"onconfchat"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"val"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"from"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"text"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n    "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v("  是发言者"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URI")]),t._v("\n    text  是"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UTF8")]),t._v("编码的文本"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("支持中文\n")])])]),e("h4",{attrs:{id:"挂断"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#挂断"}},[t._v("#")]),t._v(" 挂断")]),t._v(" "),e("p",[t._v("如果结束通话，则调用挂断接口")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("jc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("hangup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("此时对端将收到 onhangup 回调")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onhangup")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),e("p",[t._v("会议结束后，关闭连接调用下面的接口")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("jc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("close")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n   jc "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("null")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),e("p",[t._v("连接关闭后会收到 onclose 回调")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onclose")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  会话已关"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("应该关闭连接并重置界面\n")])])]),e("h3",{attrs:{id:"会议过程控制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#会议过程控制"}},[t._v("#")]),t._v(" 会议过程控制")]),t._v(" "),e("p",[t._v("会议过程控制包括 设置会场成员的状态、设置成员昵称、CDN 推流和录制、分屏 等指令。")]),t._v(" "),e("p",[t._v("会场中的每个成员都有4个状态: 固定 ID，昵称，角色，状态。")]),t._v(" "),e("p",[t._v("其中")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("参数")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("固定 ID")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("通常是账户名，不允许修改，保证唯一")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("昵称")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("支持中文，允许动态修改")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("状态")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("根据二进制位的值来判断是否开启相应状态"),e("br"),t._v("只有开启音视频并转发，其他成员才有可能接收到对应的音视频数据"),e("br"),t._v("- 0x1 转发视频"),e("br"),t._v("- 0x2 转发音频"),e("br"),t._v("- 0x4 视频开启"),e("br"),t._v("- 0x8 音频开启")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("角色")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("根据二进制位的值来判断是否开启相应状态"),e("br"),t._v("注意只有媒体发送者 ( 0x2 )，才允许设置音视频开启状态 ( 0x4"),e("br"),t._v("- 0x2 媒体发送者，允许开关本地音视频"),e("br"),t._v("- 0x4 演示者，其状态改变事件将被广播"),e("br"),t._v("- 0x8 会场拥有者，只存在唯一拥有者，由会场自动产生和迁移")])])])]),t._v(" "),e("p",[t._v("发送控制指令调用下面的接口")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("jc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("send")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("text"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" peer"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\npeer    可选的对端Id"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("http连接时被忽略\ntext    具体的指令协议"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("参考文档下方说明\n")])])]),e("h4",{attrs:{id:"成员管理控制指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#成员管理控制指令"}},[t._v("#")]),t._v(" 成员管理控制指令")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("指令内容")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("指令格式")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("设置自身或其他成员角色")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("明文格式")]),e("br"),t._v(" setrole <mask> <role> [target]"),e("br"),e("br"),e("strong",[t._v("JSON 格式")]),e("br"),t._v(" {“cmd”:”setrole”, “mask”:%d, “role”:%d, “target”:%s} "),e("br"),t._v("// 参数说明"),e("br"),t._v(" mask 掩码,表示操作的bit位"),e("br"),t._v(" role 角色，按位解释，设原状态为_ROLE_，则 _ROLE_ = (_ROLE_ & ~mask)"),e("br"),t._v("target 可选的设置对象，缺省时为自身")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("设置自身或其他成员状态")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("明文格式")]),e("br"),t._v("setstate <mask> <state> [target]"),e("br"),t._v("- 关闭 id0 (即成员URI或屏幕 URI)的音频的服务器转发"),e("br"),t._v("setstate 0x2 0x0 id0"),e("br"),t._v("- 关闭自身的音频发送"),e("br"),t._v("setstate 0x8 0x0"),e("br"),t._v("- 打开自身的音频发送"),e("br"),t._v("setstate 0x8 0x8"),e("br"),e("br"),e("strong",[t._v("JSON 格式")]),e("br"),t._v("{“cmd”:”setstate”, “mask”:%d, “state”:%d, “target”:%s}"),e("br"),t._v("// 参数说明"),e("br"),t._v("mask 掩码,表示操作的bit位"),e("br"),t._v("state 状态，按位解释，设原状态为 _STATE_，则 _STATE_ = (_STATE_ & ~mask)"),e("br"),t._v("target 可选的设置对象，缺省时为自身")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("设置自身或其他成员昵称")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("明文格式")]),e("br"),t._v("setnick <str> [target]"),e("br"),e("br"),e("strong",[t._v("JSON 格式")]),e("br"),t._v("{“cmd”:”setnick”, “nick”:<str>, “target”:%s}"),e("br"),t._v("// 参数说明"),e("br"),t._v("str utf8 编码的昵称"),e("br"),t._v("target 可选的设置对象，缺省时为自身")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("设置对其他成员的订阅信息")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("明文格式")]),e("br"),t._v("vsubscribe <target> <state>"),e("br"),e("br"),e("strong",[t._v("JSON 格式")]),e("br"),t._v("{“cmd”:”vsubscribe”,”target”:”%s”,”state”:%d}"),e("br"),t._v("// 参数说明"),e("br"),t._v("target 订阅对象"),e("br"),t._v("state 0 - 不订阅，1 - 订阅视频")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("踢出成员")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("明文格式")]),e("br"),t._v("kickuser [target]"),e("br"),e("br"),e("strong",[t._v("JSON 格式")]),e("br"),t._v("{cmd:”kickuser”, “target”:”%s”}"),e("br"),t._v("// 参数说明"),e("br"),t._v("target 目标对象uri")])])])]),t._v(" "),e("h4",{attrs:{id:"会议属性控制指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#会议属性控制指令"}},[t._v("#")]),t._v(" 会议属性控制指令")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("指令内容")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("指令格式")]),t._v(" "),e("th",[t._v("参数说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("设置自身或其他成员角色")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("明文格式")]),e("br"),t._v(" settitle <title>"),e("br"),e("br"),e("strong",[t._v("JSON 格式")]),e("br"),t._v(" {“cmd”:”settitle”,”title”:%s}")]),t._v(" "),e("td",[t._v("title utf8 编码的标题")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("设置自身或其他成员状态")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("明文格式")]),e("br"),t._v("sendtext <str> [target]"),e("br"),e("br"),e("strong",[t._v("JSON 格式")]),e("br"),t._v("{“cmd”:”sendtext”, “text”:”<str>”, “target”:%s}")]),t._v(" "),e("td",[t._v("str utf8 编码的文本"),e("br"),t._v("target 可选的目标对象，缺省时将广播")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("设置自身或其他成员昵称")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("明文格式")]),e("br"),t._v("publish <bool>"),e("br"),e("br"),e("strong",[t._v("JSON 格式")]),e("br"),t._v("{”cmd”:”publish”, “video”:<\\bool>}")]),t._v(" "),e("td",[t._v("bool 布尔值，可选为 true,false, 0, 1")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("设置对其他成员的订阅信息")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("明文格式")]),e("br"),t._v("setmergemode <mergeMode>"),e("br"),e("br"),e("strong",[t._v("JSON 格式")]),e("br"),t._v("{”cmd”:”setmergemode”, “mergeMode”:%d}")]),t._v(" "),e("td",[e("strong",[t._v("mergeMode 整型，布局模式")]),e("br"),t._v("1.平铺模式,所有视频均分平铺"),e("br"),t._v("2.讲台模式,共享为大图,其他视频为小图"),e("br"),t._v("3.演讲模式,共享为大图,共享者视频为小图,其他不显示"),e("br"),t._v("4.自定义模式,由 setlayout 指令设置所有视频布局"),e("br"),t._v("5.智能模式, 可用 setmergemode_i,setmerge_i 调整相应的参数")])])])]),t._v(" "),e("h4",{attrs:{id:"分屏控制指令"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#分屏控制指令"}},[t._v("#")]),t._v(" 分屏控制指令")]),t._v(" "),e("h5",{attrs:{id:"实现自定义模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#实现自定义模式"}},[t._v("#")]),t._v(" 实现自定义模式")]),t._v(" "),e("p",[t._v("实现自定义模式之前，需要确保收到视频的布局为自定义模式(@setmergemode 4)才能看到效果。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("指令格式")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("参数说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("JSON格式")]),e("br"),t._v("{“cmd”:”setlayout”,”layout”:[[<id0>,<ps> x, y, w, h],"),e("br"),t._v("[“id1”,0x200, 0.1, 0.1, 1.0, 1.0], …]}")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("id0")]),e("br"),t._v("成员 URI 或屏幕 URI"),e("br"),e("strong",[e("br"),t._v("ps")]),e("br"),t._v("视频尺寸级别 0x100, 0x200, 0x300, 0x400"),e("br"),t._v("x,y,w,h：单位[0.0,1.0]的坐标和尺寸")])])])]),t._v(" "),e("h5",{attrs:{id:"调整智能模式的布局"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调整智能模式的布局"}},[t._v("#")]),t._v(" 调整智能模式的布局")]),t._v(" "),e("p",[t._v("调整智能模式的布局之前，需要确保收到视频的布局为智能模式(@setmergemode 5)才能看到效果。")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("指令格式")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("参数说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("明文格式")]),e("br"),e("code",[t._v("setmergemode_i <mode> <scsMode> [uri]")]),e("br"),t._v("例如：设置智能模式为“自由模式”，带屏幕共享为“主持人模式”，大小屏放大用户默认为qqqq，则指令为："),e("br"),e("code",[t._v("@setmergemode_i 1 3 [username:qqqq@sample.cloud.justalk.com]")])]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("mode:智能分屏模式")]),e("br"),t._v("1 freeLayout"),e("br"),t._v("2 rectLayout"),e("br"),t._v("3 bigSmallX2"),e("br"),t._v("4 bigSmallX3"),e("br"),t._v("......"),e("br"),t._v("11 bigSmallX10"),e("br"),t._v("12 bigSmallTop"),e("br"),t._v("13 bigSmallBotto"),e("br"),e("br"),e("strong",[t._v("scsMode：智能分屏带屏幕共享模式")]),e("br"),t._v("1 screen"),e("br"),t._v("2 platform"),e("br"),t._v("3 platformCover"),e("br"),t._v("4 speaker"),e("br"),t._v("uri: 大小屏默认放大的用户 uri")])])])]),t._v(" "),e("h5",{attrs:{id:"调整智能模式的详细参数"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#调整智能模式的详细参数"}},[t._v("#")]),t._v(" 调整智能模式的详细参数")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("指令格式")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("参数说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("明文格式")]),e("br"),t._v("setmerge_i <width> <height> <mode> <scsMode> <fps> [uri]"),e("br"),t._v("例如：设置宽为1600，高为900，智能模式为“自由模式”，带屏幕共享为“主持人模式”，帧数为24帧，大小屏放大用户默认为qqqq则指令为："),e("br"),t._v("@setmerge_i 1600 900 1 3 24 [username:qqqq@sample.cloud.justalk.com]")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("width")]),t._v(" 宽"),e("br"),e("strong",[t._v("height")]),t._v(" 高"),e("br"),e("strong",[t._v("mode")]),t._v(" 智能分屏模式，参见上方setmergemode_i"),e("br"),e("strong",[t._v("scsMode")]),t._v(" 智能分屏带屏幕共享模式，参见上方setmergemode_iv"),e("br"),e("strong",[t._v("fps")]),t._v(" 帧数 1-30"),e("br"),e("strong",[t._v("uri")]),t._v(" 大小屏默认放大的用户 uri")])])])]),t._v(" "),e("p",[t._v("关于智能分屏模式和调整智能分屏模式的详细参数的具体指令信息，请参考 "),e("a",{attrs:{href:"/cn/document/V2.1/webrtc/integration.php#w_id6"}},[t._v("智能分屏")]),t._v("。")]),t._v(" "),e("h4",{attrs:{id:"录制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#录制"}},[t._v("#")]),t._v(" 录制")]),t._v(" "),e("h5",{attrs:{id:"开始录制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#开始录制"}},[t._v("#")]),t._v(" 开始录制")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("指令格式")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("参数说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("JSON格式")]),e("br"),t._v("{“cmd”:”StartRecord”,”Video”:true,”Storage”:"),e("br"),t._v("{"),e("br"),t._v("“Protocol”:”qiniu”,"),e("br"),t._v("“AccessKey”:”Th2jW*********”,"),e("br"),t._v("“SecretKey”:”Nh***********”,"),e("br"),t._v("“"),e("strong",[t._v("BucketName")]),t._v("”:”***”,"),e("br"),t._v("“FileKey”:”1234.mp4”,"),e("br"),t._v("“SplitFileSize”:1024"),e("br"),t._v("}"),e("br"),t._v("}")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("Video 是否视频会议，true为视频会议"),e("br"),t._v("Protocol 云存储协议，目前支持七牛"),e("br"),t._v("AccessKey、SecretKey 七牛云个人中心->密钥管理查看"),e("br"),t._v("BucketName 七牛云的存储名称"),e("br"),t._v("FileKey 上传到七牛的文件名"),e("br"),t._v("SplitFileSize 录制文件超过多少 KB 自动分割，不填，默认是500M")])])])]),t._v(" "),e("h5",{attrs:{id:"停止录制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#停止录制"}},[t._v("#")]),t._v(" 停止录制")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("指令格式")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("参数说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("JSON格式")]),e("br"),t._v("{“cmd”:”StopRecord”}"),e("br"),t._v("假设 base64编码后为 eyJjbWQiOiJTdG9wUmVjb3JkIn0=，会议号为12345678，则停止录制的命令如下："),e("br"),t._v("sendtext eyJjbWQiOiJTdG9wUmVjb3JkIn0=[username:delivery_12345678@delivery.cloud.justalk.com]")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("录制器或推流器也是一个 confDelivery，录制器或推流器也是一个 confDelivery，录制器或推流器 uri 为："),e("br"),t._v("[username:delivery_会议号@delivery.cloud.justalk.com]")])])])]),t._v(" "),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("录制默认分辨率为 360P，如需修改录制分辨率则要调用 SetVideoLevel 接口进行修改。")])]),t._v(" "),e("p",[t._v("关于设置录制分辨率和录指文件大小的详细指令信息请参阅 "),e("a",{attrs:{href:"/cn/document/V2.1/webrtc/integration.php#w_id8"}},[t._v("修改录制或推流分辨率")]),t._v(" 和 "),e("a",{attrs:{href:"/cn/document/V2.1/webrtc/integration.php#w_id9"}},[t._v("修改录制文件大小")]),t._v("。")]),t._v(" "),e("h4",{attrs:{id:"cdn-推流"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#cdn-推流"}},[t._v("#")]),t._v(" CDN 推流")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("指令内容")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("指令格式")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("设置推流地址")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("明文格式")]),e("br"),t._v("setpushuri <uri>"),e("br"),t._v("设置推流地址，若以’/’结尾，则自动添加当前会议号。"),e("br"),t._v("必须在开始“视频混合”前设置"),e("br"),t._v("录制器或推流器也是一个 confDelivery，可以通过 sendtext 命令通知录制器/推流器来操作"),e("br"),t._v("录制器或推流器 uri 为：[username:delivery_会议号@delivery.cloud.justalk.com]"),e("br"),t._v("// 举例"),e("br"),t._v("假设会议号为12345678，则指令为："),e("br"),t._v("@sendtext @delivery_12345678 setpushuri rtmp://video-center.alivecdn.com/juphoon11/juphoon?vhost=broadcast.justalkcloud.com [username:delivery_12345678@delivery.cloud.justalk.com]")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("设置推流参数")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("明文格式")]),e("br"),t._v("setpushuriparm <parm>"),e("br"),t._v("最终完全的推流的 URL 等于：推流地址 + 空格 + 推流参数"),e("br"),t._v("必须在开始“视频混合”前设置"),e("br"),t._v("// 举例"),e("br"),t._v("假设会议号为12345678，则指令为："),e("br"),t._v("@sendtext @delivery_12345678 setpushuriparm socks=192.12.1.2[username:delivery_12345678@delivery.cloud.justalk.com]")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("开始推流")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("明文格式")]),e("br"),t._v("startpush"),e("br"),t._v("开始向 CDN 推流，相应的网页观看地址由 CDN 服务提供商决定"),e("br"),t._v("// 举例"),e("br"),t._v("假设会议号为12345678，则指令为："),e("br"),t._v("@sendtext @delivery_12345678 startpush[username:delivery_12345678@delivery.cloud.justalk.com]")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("停止推流")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("明文格式")]),e("br"),t._v("stoppush"),e("br"),t._v("// 举例"),e("br"),t._v("假设会议号为12345678，则指令为："),e("br"),t._v("@sendtext @delivery_12345678 stoppush[username:delivery_12345678@delivery.cloud.justalk.com]")])])])]),t._v(" "),e("p",[t._v("关于设置推流分辨率的详细指令信息请参阅 "),e("a",{attrs:{href:"/cn/document/V2.1/webrtc/integration.php#w_id8"}},[t._v("修改录制或推流分辨率")]),t._v("。")]),t._v(" "),e("h4",{attrs:{id:"播放"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#播放"}},[t._v("#")]),t._v(" 播放")]),t._v(" "),e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("指令格式")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("参数说明")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("开始播放")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("明文格式")]),e("br"),t._v("play [playFile] "),e("strong",[t._v("JSON 格式")]),e("br"),t._v("{“cmd”:”play”, “playFile”:%s}"),e("br"),t._v("将自动添加发送角色,和相应的音频发送状态."),e("br"),t._v("playFile 必须为 ConfDelivery 所在机器上的文件路径.默认 playFile.wav")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("停止播放")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[e("strong",[t._v("明文格式")]),e("br"),t._v("stopplay"),e("br"),e("br"),e("strong",[t._v("JSON 格式")]),e("br"),t._v("{“cmd”:”stopPlay”}")])])])]),t._v(" "),e("h3",{attrs:{id:"会议事件订阅"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#会议事件订阅"}},[t._v("#")]),t._v(" 会议事件订阅")]),t._v(" "),e("p",[t._v("会议过程中，会议状态的改变则通过发送订阅事件指令 subscribe 进行订阅。")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("明文格式\nsubscribe "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("hex"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("JSON")]),t._v("字符串格式\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cmd"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscribe"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"mask"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("hex"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n  hex 事件位集合\n    "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x1")]),t._v(" 自身状态改变"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   对应 onselfstate\n    "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x2")]),t._v(" 其他成员状态改变"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("对应 onactorstate"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("onactorleave\n    "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x4")]),t._v(" 会场属性改变"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("   对应 onconfstate\n    "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x8")]),t._v(" 聊天信息"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("       对应 onconfchat\n")])])]),e("p",[t._v("订阅前可以设置订阅的对象和属性。")]),t._v(" "),e("h4",{attrs:{id:"设置订阅"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设置订阅"}},[t._v("#")]),t._v(" 设置订阅")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("vsubscribe "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("target"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("state"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//target 订阅对象")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//state  布尔型, 0 - 表示不订阅, 1 - 订阅视频")]),t._v("\n")])])]),e("p",[t._v("例如：")]),t._v(" "),e("p",[t._v("订阅会场成员 actor")]),t._v(" "),e("p",[t._v("假设 actor 的 uri 为 [username:actor@sample.cloud.justalk.com]，则指令为：")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("vsubscribe "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("actor@sample"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v("\n")])])]),e("p",[t._v("取消订阅会场成员 actor")]),t._v(" "),e("p",[t._v("假设 actor 的 uri 为 [username:actor@sample.cloud.justalk.com]，则指令为：")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("vsubscribe "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("actor@sample"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),t._v("\n")])])]),e("p",[t._v("订阅成功之后即可对订阅成员的状态改变进行回调：")]),t._v(" "),e("p",[t._v("其他成员状态改变回调")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cmd"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"onactorstate"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"val"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id0"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nick"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"role"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"state"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"subscribe"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    id0  是成员"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URI")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("全局唯一"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    nick 是"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UTF8")]),t._v("编码的昵称"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("支持中文\n    role 是角色位整型"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n          "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x2")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 发送者\n    state 是状态位整型"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("\n            "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 转发视频\n            "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x2")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 转发音频\n            "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x4")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 打开视频\n            "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x8")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 打开音频\n    subscribe 是订阅信息\n            "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" 订阅视频\n")])])]),e("p",[t._v("自身状态改变回调")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cmd"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"onselfstate"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"val"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"nick"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"role"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"state"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("成员离开回调")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cmd"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"onactorleave"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"val"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id0"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"id1"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),e("p",[t._v("会场属性改变回调")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cmd"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"onconfstate"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"val"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"screen"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"title"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"sharer"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("s"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n    screen 是屏幕"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URI")]),t._v("\n    title  是"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("UTF8")]),t._v("编码的标题"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("支持中文\n    sharer 是屏幕共享者"),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("URI")]),t._v("\n")])])]),e("p",[t._v("协商状态改变回调")]),t._v(" "),e("p",[t._v("只有协商状态为 ‘stable’，才允许更新本地媒体(调用 update/share)")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("onsignalingstatechange")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  state 可选为\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'stable'")]),t._v("  没有进行协商的稳定状态\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'have-local-offer'")]),t._v("     协商进行中\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'have-remote-offer'")]),t._v("    协商进行中\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'have-remote-pranswer'")]),t._v(" 协商进行中\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'have-local-pranswer'")]),t._v("  协商进行中\n")])])]),e("p",[t._v("连接状态改变回调")]),t._v(" "),e("p",[t._v("只要连接状态为 ‘failed’，则将不可恢复的通信中断")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token function"}},[t._v("oniceconnectionstatechange")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("state"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n  state 可选为\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'new'")]),t._v(" 初始状态\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'checking'")]),t._v(" 探测进行状态\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'connected'")]),t._v(" 成功连接\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'completed'")]),t._v(" 探测结束\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'disconnected'")]),t._v(" 断开连接\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'failed'")]),t._v(" 连接过程已失败"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("不可恢复\n      "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v("'closed'")]),t._v(" 关闭连接\n")])])]),e("h4",{attrs:{id:"辅助功能"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#辅助功能"}},[t._v("#")]),t._v(" 辅助功能")]),t._v(" "),e("p",[t._v("屏幕共享")]),t._v(" "),e("p",[t._v("实现屏幕共享功能需要以下操作：")]),t._v(" "),e("p",[t._v("Google Chrome 必须安装 [额外扩展][ScreenCapturing]，请参考 "),e("a",{attrs:{href:"https://chrome.google.com/webstore/detail/screen-capturing/ajhifddimkapgcifgcodmmfdlknahffk",target:"_blank",rel:"noopener noreferrer"}},[t._v("Chrome 屏幕采集扩展ScreenCapturing"),e("OutboundLink")],1),t._v("。")]),t._v(" "),e("p",[t._v("getsourceid 参数必须指定有效的https网址，缺省时需要公网访问能力。")]),t._v(" "),e("h4",{attrs:{id:"设备控制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#设备控制"}},[t._v("#")]),t._v(" 设备控制")]),t._v(" "),e("h5",{attrs:{id:"动态开关本地媒体"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#动态开关本地媒体"}},[t._v("#")]),t._v(" 动态开关本地媒体")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("jc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("update")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("constraints"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n   constraints  标准 MediaStreamConstraints object"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                按如下格式\n                    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                        "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"audio"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                        "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"video"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n                            "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"width"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("640")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                            "),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"height"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"max"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("480")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                        "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                    "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n                    max 可以限制视频最大尺寸"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" min 限制最小尺寸\n")])])]),e("h5",{attrs:{id:"动态切换屏幕共享"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#动态切换屏幕共享"}},[t._v("#")]),t._v(" 动态切换屏幕共享")]),t._v(" "),e("p",[t._v("切换屏幕共享，将自动进行重新协商")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("jc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("share")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("toggle"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n   toggle  是否共享窗口或屏幕\n")])])]),e("p",[t._v("发送DTMF")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("jc"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token function"}},[t._v("dtmf")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),t._v("tones"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("duration"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("inter_tone_gap"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n\n   tones     "),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("DMTF")]),t._v("的音符"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("9")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("A")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token constant"}},[t._v("D")]),t._v("或a"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),t._v("d"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("#"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("*")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" 忽略无法识别的字符\n\n   duration  可选的每个音符的持续毫秒"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("不能超过"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6000")]),t._v("或小于"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("70.")]),t._v(" 默认"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),t._v("ms\n\n   inter_tone_gap   可选的音符间隔"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("至少为"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("50")]),t._v("ms"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("但应尽可能短"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v(" 默认"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("70")]),t._v("ms\n")])])]),e("h2",{attrs:{id:"参考文件"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#参考文件"}},[t._v("#")]),t._v(" 参考文件")]),t._v(" "),e("h3",{attrs:{id:"智能模式布局"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#智能模式布局"}},[t._v("#")]),t._v(" 智能模式布局")]),t._v(" "),e("p",[t._v("setmergemode_i 调整智能模式的布局")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("setmergemode_i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("mode"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("scsMode"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("uri"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n         mode"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 智能分屏模式 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("freeLayout"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("rectLayout"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("bigSmallX2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("bigSmallX3"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                               "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("bigSmallX10"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("bigSmallTop"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("bigSmallBottom\n\n         scsMode"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 智能分屏带屏幕共享模式 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("screen"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("platform"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("platformCover"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("speaker\n\n         uri"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 大小屏默认放大的用户uri\n")])])]),e("div",{staticClass:"custom-block tip"},[e("p",{staticClass:"custom-block-title"},[t._v("TIP")]),t._v(" "),e("p",[t._v("确保合并模式为智能模式(@setmergemode 5), 否则调用完之后要将模式设置为智能模式后才能看到效果；")]),t._v(" "),e("p",[t._v("没有收到屏幕共享时，模式为mode,当收到屏幕共享时模式会切换成scsMode；")]),t._v(" "),e("p",[t._v("当模式为mode并且mode>=3且<=13时,uri为大小屏设置的默认放大用户；")]),t._v(" "),e("p",[t._v("uri若为空或无效用户，则默认第一个用户为大小屏用户。")])]),t._v(" "),e("p",[t._v("智能模式的布局调整样例如下：")]),t._v(" "),e("h4",{attrs:{id:"自由布局"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#自由布局"}},[t._v("#")]),t._v(" 自由布局")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("在没有屏幕共享时\n\n@setmergemode_i "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("actor@sample"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[e("img",{attrs:{src:a(457),alt:"img"}})]),t._v(" "),e("h4",{attrs:{id:"矩形布局"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#矩形布局"}},[t._v("#")]),t._v(" 矩形布局")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("在没有屏幕共享时\n\n@setmergemode_i "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("actor@sample"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[e("img",{attrs:{src:a(458),alt:"img"}})]),t._v(" "),e("h4",{attrs:{id:"大屏x2"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#大屏x2"}},[t._v("#")]),t._v(" 大屏X2")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("在没有屏幕共享时\n\n@setmergemode_i "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("actor@sample"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\nactor用户显示"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v("倍\n")])])]),e("p",[e("img",{attrs:{src:a(459),alt:"img"}})]),t._v(" "),e("h4",{attrs:{id:"大屏x3"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#大屏x3"}},[t._v("#")]),t._v(" 大屏X3")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("在没有屏幕共享时\n\n@setmergemode_i "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("actor@sample"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\nactor用户显示"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v("倍\n")])])]),e("p",[e("img",{attrs:{src:a(460),alt:"img"}})]),t._v(" "),e("h4",{attrs:{id:"小屏底部"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#小屏底部"}},[t._v("#")]),t._v(" 小屏底部")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("在没有屏幕共享时\n\n@setmergemode_i "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("actor@sample"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\nactor用户显示在顶部，其它用户显示小屏在底部\n")])])]),e("p",[e("img",{attrs:{src:a(461),alt:"img"}})]),t._v(" "),e("h4",{attrs:{id:"小屏顶部"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#小屏顶部"}},[t._v("#")]),t._v(" 小屏顶部")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("在没有屏幕共享时\n\n@setmergemode_i "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("actor@sample"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\nactor用户显示在底部，其它用户显示小屏在顶部\n")])])]),e("p",[e("img",{attrs:{src:a(462),alt:"img"}})]),t._v(" "),e("h4",{attrs:{id:"纯屏幕共享"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#纯屏幕共享"}},[t._v("#")]),t._v(" 纯屏幕共享")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("在收到屏幕共享时\n\n@setmergemode_i "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("actor@sample"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[e("img",{attrs:{src:a(463),alt:"img"}})]),t._v(" "),e("h4",{attrs:{id:"屏幕共享小屏底部"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#屏幕共享小屏底部"}},[t._v("#")]),t._v(" 屏幕共享小屏底部")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("在没有屏幕共享时\n\n@setmergemode_i "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("actor@sample"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n屏幕共享显示在顶部，其它用户显示小屏在底部\n")])])]),e("p",[e("img",{attrs:{src:a(464),alt:"img"}})]),t._v(" "),e("h4",{attrs:{id:"讲台模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#讲台模式"}},[t._v("#")]),t._v(" 讲台模式")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("在没有屏幕共享时\n\n@setmergemode_i "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("actor@sample"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n屏幕共享显示在顶部，其它用户显示小屏在底部并且遮盖大屏\n")])])]),e("p",[e("img",{attrs:{src:a(465),alt:"img"}})]),t._v(" "),e("h4",{attrs:{id:"主持人模式"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#主持人模式"}},[t._v("#")]),t._v(" 主持人模式")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("在收到屏幕共享时\n\n@setmergemode_i "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("actor@sample"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[e("img",{attrs:{src:a(466),alt:"img"}})]),t._v(" "),e("h3",{attrs:{id:"智能模式分辨率"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#智能模式分辨率"}},[t._v("#")]),t._v(" 智能模式分辨率")]),t._v(" "),e("p",[t._v("调整智能模式的布局和分辨率")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("setmerge_i "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("width"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("height"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("mode"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("scsMode"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("<")]),t._v("fps"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(">")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("uri"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n\n       width"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("宽\n       height"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("高\n       mode"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("智能分屏模式 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("freeLayout"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("rectLayout"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("bigSmallX2"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("bigSmallX3"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("...")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n                                 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("11")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("bigSmallX10"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("12")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("bigSmallTop"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("13")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("bigSmallBottom\n       scsMode"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("智能分屏带屏幕共享模式 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("screen"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("2")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("platform"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("3")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("platformCover"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("speaker\n       fps"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("帧数 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("-")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v("\n       uri"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" 大小屏默认放大的用户uri\n")])])]),e("p",[t._v("将合并模式设置为智能模式，宽和高可以设置任意的，目前实例中暂设为 90P，180P，360P，720P，1080P。")]),t._v(" "),e("p",[t._v("没有收到屏幕共享时，模式为 mode，当收到屏幕共享时模式会切换成 scsMode。")]),t._v(" "),e("p",[t._v("当模式为 mode 并且 mode>=3 且 <=13 时，uri 为大小屏设置的默认放大用户。")]),t._v(" "),e("p",[t._v("uri 若为空或无效用户，则默认第一个用户为大小屏用户。")]),t._v(" "),e("p",[t._v("分辨率设置样例如下：")]),t._v(" "),e("p",[t._v("样例1-1080P")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("@setmerge_i "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1920")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1080")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("actor@sample"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("样例2-720P")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("@setmerge_i "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1280")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("720")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("actor@sample"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("样例3-360P")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("@setmerge_i "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("640")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("360")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("actor@sample"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("样例4-180P")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("@setmerge_i "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("320")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("180")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("actor@sample"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("样例5-90P")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("@setmerge_i "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("160")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("90")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("4")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("24")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("actor@sample"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("h3",{attrs:{id:"修改录制或推流分辨率"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改录制或推流分辨率"}},[t._v("#")]),t._v(" 修改录制或推流分辨率")]),t._v(" "),e("p",[t._v("修改录制或推流分辨率")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[t._v("json字符串需要base64加密\n"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cmd"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SetVideoLevel"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MtcConfVideoLevelKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("%")]),t._v("x"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\n"),e("span",{pre:!0,attrs:{class:"token comment"}},[t._v("//MtcConfVideoLevelKey 视频尺寸,由小到到可选值:")]),t._v("\n                                 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x100")]),t._v("即"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("256")]),t._v("对应"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("360")]),t._v("P\n                                 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x200")]),t._v("即"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),t._v("对应"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("480")]),t._v("P\n                                 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x300")]),t._v("即"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("768")]),t._v("对应"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("720")]),t._v("P\n                                 "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x400")]),t._v("即"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),t._v("对应"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1080")]),t._v("P\n\n录制器或推流器也是一个confDelivery"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" 可以通过sendtext命令通知录制器"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("/")]),t._v("推流器来操作\n\n录制器或推流器uri为"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("delivery_会议号@delivery"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("修改录制或推流分辨率为360P")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cmd"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SetVideoLevel"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MtcConfVideoLevelKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x100")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nbase64编码后为\neyJjbWQiOiJTZXRWaWRlb0xldmVsIiwiTXRjQ29uZlZpZGVvTGV2ZWxLZXkiOjB4MTAwfQ"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\n\n假设会议号为"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("12345678")]),t._v("，则指令为\nsendtext eyJjbWQiOiJTZXRWaWRlb0xldmVsIiwiTXRjQ29uZlZpZGVvTGV2ZWxLZXkiOjB4MTAwfQ"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("delivery_12345678@delivery"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("修改录制或推流分辨率为480P")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cmd"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SetVideoLevel"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MtcConfVideoLevelKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("512")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nbase64编码后为\neyJjbWQiOiJTZXRWaWRlb0xldmVsIiwiTXRjQ29uZlZpZGVvTGV2ZWxLZXkiOjUxMn0"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n\n假设会议号为"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("12345678")]),t._v("，则指令为\nsendtext eyJjbWQiOiJTZXRWaWRlb0xldmVsIiwiTXRjQ29uZlZpZGVvTGV2ZWxLZXkiOjUxMn0"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("delivery_12345678@delivery"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("修改录制分辨率为720P")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cmd"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SetVideoLevel"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MtcConfVideoLevelKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("0x300")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nbase64编码后为\neyJjbWQiOiJTZXRWaWRlb0xldmVsIiwiTXRjQ29uZlZpZGVvTGV2ZWxLZXkiOjB4MzAwfQ"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\n\n假设会议号为"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("12345678")]),t._v("，则指令为\nsendtext eyJjbWQiOiJTZXRWaWRlb0xldmVsIiwiTXRjQ29uZlZpZGVvTGV2ZWxLZXkiOjB4MzAwfQ"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("delivery_12345678@delivery"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("修改录制分辨率为1080P")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cmd"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SetVideoLevel"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"MtcConfVideoLevelKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nbase64编码后为\neyJjbWQiOiJTZXRWaWRlb0xldmVsIiwiTXRjQ29uZlZpZGVvTGV2ZWxLZXkiOjEwMjR9\n\n假设会议号为"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("12345678")]),t._v("，则指令\nsendtext eyJjbWQiOiJTZXRWaWRlb0xldmVsIiwiTXRjQ29uZlZpZGVvTGV2ZWxLZXkiOjEwMjR9 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("delivery_12345678@delivery"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("h3",{attrs:{id:"修改录制文件大小"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#修改录制文件大小"}},[t._v("#")]),t._v(" 修改录制文件大小")]),t._v(" "),e("p",[t._v("修改录制文件大小为100KB")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cmd"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"StartRecord"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Video"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Storage"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Protocol"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qiniu"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AccessKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Th2jW_jP5VSk-wfdVMy5it1oK4iHa8pv8vBZMhbd"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SecretKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Nh***********"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BucketName"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ajianzheng"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"FileKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12345678.mp4"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SplitFileSize"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("100")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nbase64编码后为\neyJjbWQiOiJTdGFydFJlY29yZCIsIlZpZGVvIjp0cnVlLCJTdG9yYWdlIjp7IlByb3RvY29sIjoicWluaXUiLCJBY2Nlc3NLZXkiOiJUaDJqV19qUDVWU2std2ZkVk15NWl0MW9LNGlIYThwdjh2QlpNaGJkIiwiU2VjcmV0S2V5IjoiTmgtX3BnWHJ4OXdlaXE4YmtBdEpQa3JCbFYzWVAxM1UwRngwZlQtYyIsIkJ1Y2tldE5hbWUiOiJhamlhbnpoZW5nIiwiRmlsZUtleSI6IjEyMzQ1Njc4Lm1wNCIsIlNwbGl0RmlsZVNpemUiOjEwMH19\n\n假设会议号为"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("12345678")]),t._v("，则指令为\nsendtext eyJjbWQiOiJTdGFydFJlY29yZCIsIlZpZGVvIjp0cnVlLCJTdG9yYWdlIjp7IlByb3RvY29sIjoicWluaXUiLCJBY2Nlc3NLZXkiOiJUaDJqV19qUDVWU2std2ZkVk15NWl0MW9LNGlIYThwdjh2QlpNaGJkIiwiU2VjcmV0S2V5IjoiTmgtX3BnWHJ4OXdlaXE4YmtBdEpQa3JCbFYzWVAxM1UwRngwZlQtYyIsIkJ1Y2tldE5hbWUiOiJhamlhbnpoZW5nIiwiRmlsZUtleSI6IjEyMzQ1Njc4Lm1wNCIsIlNwbGl0RmlsZVNpemUiOjEwMH19 "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("delivery_12345678@delivery"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("修改录制文件大小为1MB")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cmd"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"StartRecord"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Video"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Storage"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Protocol"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qiniu"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AccessKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Th2jW_jP5VSk-wfdVMy5it1oK4iHa8pv8vBZMhbd"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SecretKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Nh***********"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BucketName"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ajianzheng"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"FileKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12345678.mp4"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SplitFileSize"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1024")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nbase64编码为\neyJjbWQiOiJTdGFydFJlY29yZCIsIlZpZGVvIjp0cnVlLCJTdG9yYWdlIjp7IlByb3RvY29sIjoicWluaXUiLCJBY2Nlc3NLZXkiOiJUaDJqV19qUDVWU2std2ZkVk15NWl0MW9LNGlIYThwdjh2QlpNaGJkIiwiU2VjcmV0S2V5IjoiTmgtX3BnWHJ4OXdlaXE4YmtBdEpQa3JCbFYzWVAxM1UwRngwZlQtYyIsIkJ1Y2tldE5hbWUiOiJhamlhbnpoZW5nIiwiRmlsZUtleSI6IjEyMzQ1Njc4Lm1wNCIsIlNwbGl0RmlsZVNpemUiOjEwMjR9fQ"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\n\n假设会议号为"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("12345678")]),t._v("，则指令为\nsendtext eyJjbWQiOiJTdGFydFJlY29yZCIsIlZpZGVvIjp0cnVlLCJTdG9yYWdlIjp7IlByb3RvY29sIjoicWluaXUiLCJBY2Nlc3NLZXkiOiJUaDJqV19qUDVWU2std2ZkVk15NWl0MW9LNGlIYThwdjh2QlpNaGJkIiwiU2VjcmV0S2V5IjoiTmgtX3BnWHJ4OXdlaXE4YmtBdEpQa3JCbFYzWVAxM1UwRngwZlQtYyIsIkJ1Y2tldE5hbWUiOiJhamlhbnpoZW5nIiwiRmlsZUtleSI6IjEyMzQ1Njc4Lm1wNCIsIlNwbGl0RmlsZVNpemUiOjEwMjR9fQ"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("delivery_12345678@delivery"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("修改录制文件大小为1GB")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cmd"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"StartRecord"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Video"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Storage"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Protocol"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qiniu"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AccessKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Th2jW_jP5VSk-wfdVMy5it1oK4iHa8pv8vBZMhbd"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SecretKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Nh***********"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BucketName"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ajianzheng"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"FileKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12345678.mp4"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SplitFileSize"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("1048576")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nbase64编码后为\neyJjbWQiOiJTdGFydFJlY29yZCIsIlZpZGVvIjp0cnVlLCJTdG9yYWdlIjp7IlByb3RvY29sIjoicWluaXUiLCJBY2Nlc3NLZXkiOiJUaDJqV19qUDVWU2std2ZkVk15NWl0MW9LNGlIYThwdjh2QlpNaGJkIiwiU2VjcmV0S2V5IjoiTmgtX3BnWHJ4OXdlaXE4YmtBdEpQa3JCbFYzWVAxM1UwRngwZlQtYyIsIkJ1Y2tldE5hbWUiOiJhamlhbnpoZW5nIiwiRmlsZUtleSI6IjEyMzQ1Njc4Lm1wNCIsIlNwbGl0RmlsZVNpemUiOjEwNDg1NzZ9fQ"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v("\n\n假设会议号为"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("12345678")]),t._v("，则指令为\nsendtext eyJjbWQiOiJTdGFydFJlY29yZCIsIlZpZGVvIjp0cnVlLCJTdG9yYWdlIjp7IlByb3RvY29sIjoicWluaXUiLCJBY2Nlc3NLZXkiOiJUaDJqV19qUDVWU2std2ZkVk15NWl0MW9LNGlIYThwdjh2QlpNaGJkIiwiU2VjcmV0S2V5IjoiTmgtX3BnWHJ4OXdlaXE4YmtBdEpQa3JCbFYzWVAxM1UwRngwZlQtYyIsIkJ1Y2tldE5hbWUiOiJhamlhbnpoZW5nIiwiRmlsZUtleSI6IjEyMzQ1Njc4Lm1wNCIsIlNwbGl0RmlsZVNpemUiOjEwNDg1NzZ9fQ"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("==")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("delivery_12345678@delivery"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])]),e("p",[t._v("修改录制文件大小为6GB")]),t._v(" "),e("div",{staticClass:"language-js extra-class"},[e("pre",{pre:!0,attrs:{class:"language-js"}},[e("code",[e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"cmd"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"StartRecord"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Video"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("true")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Storage"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Protocol"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"qiniu"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"AccessKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Th2jW_jP5VSk-wfdVMy5it1oK4iHa8pv8vBZMhbd"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SecretKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"Nh***********"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"BucketName"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"ajianzheng"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"FileKey"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"12345678.mp4"')]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),e("span",{pre:!0,attrs:{class:"token string"}},[t._v('"SplitFileSize"')]),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("6291456")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n\nbase64编码后为\neyJjbWQiOiJTdGFydFJlY29yZCIsIlZpZGVvIjp0cnVlLCJTdG9yYWdlIjp7IlByb3RvY29sIjoicWluaXUiLCJBY2Nlc3NLZXkiOiJUaDJqV19qUDVWU2std2ZkVk15NWl0MW9LNGlIYThwdjh2QlpNaGJkIiwiU2VjcmV0S2V5IjoiTmgtX3BnWHJ4OXdlaXE4YmtBdEpQa3JCbFYzWVAxM1UwRngwZlQtYyIsIkJ1Y2tldE5hbWUiOiJhamlhbnpoZW5nIiwiRmlsZUtleSI6IjEyMzQ1Njc4Lm1wNCIsIlNwbGl0RmlsZVNpemUiOiA2MjkxNDU2fX0"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v("\n\n假设会议号为"),e("span",{pre:!0,attrs:{class:"token number"}},[t._v("12345678")]),t._v("，则指令为\nsendtext eyJjbWQiOiJTdGFydFJlY29yZCIsIlZpZGVvIjp0cnVlLCJTdG9yYWdlIjp7IlByb3RvY29sIjoicWluaXUiLCJBY2Nlc3NLZXkiOiJUaDJqV19qUDVWU2std2ZkVk15NWl0MW9LNGlIYThwdjh2QlpNaGJkIiwiU2VjcmV0S2V5IjoiTmgtX3BnWHJ4OXdlaXE4YmtBdEpQa3JCbFYzWVAxM1UwRngwZlQtYyIsIkJ1Y2tldE5hbWUiOiJhamlhbnpoZW5nIiwiRmlsZUtleSI6IjEyMzQ1Njc4Lm1wNCIsIlNwbGl0RmlsZVNpemUiOiA2MjkxNDU2fX0"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v("=")]),t._v(" "),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),t._v("username"),e("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v("delivery_12345678@delivery"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("cloud"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("justalk"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(".")]),t._v("com"),e("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),t._v("\n")])])])])}),[],!1,null,null,null);s.default=n.exports}}]);